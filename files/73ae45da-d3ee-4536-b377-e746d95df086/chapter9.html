<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 9: Living Wage - Reading Breakdown</title>
    <style>
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-base: #05060a;
            --card-bg: linear-gradient(145deg, rgba(255,255,255,0.98), rgba(248,248,252,0.98), rgba(243,244,248,0.98));
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-light: #f9fafb;

            --accent-primary: #3b82f6;
            --accent-purple: #8b5cf6;
            --accent-green: #22c55e;
            --accent-warm: #f97316;
            --accent-red: #ef4444;

            --radius-lg: 24px;
            --radius-md: 16px;
            --radius-pill: 999px;

            --card-shadow: 0 20px 45px rgba(15,23,42,0.7);
            --transition: 0.2s ease;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro JP", system-ui,
            -system-ui, "Helvetica Neue", "Segoe UI", "Yu Gothic UI", "Hiragino Sans", "Meiryo", sans-serif;
            background:
                radial-gradient(circle at 0% 0%, rgba(59,130,246,0.35), transparent 55%),
                radial-gradient(circle at 100% 0%, rgba(139,92,246,0.25), transparent 55%),
                radial-gradient(circle at 0% 100%, rgba(16,185,129,0.2), transparent 60%),
                linear-gradient(160deg, #020617 0%, #020617 40%, #020617 100%);
            background-attachment: fixed;
            color: var(--text-light);
            -webkit-font-smoothing: antialiased;
            padding: 24px 10px 24px;
            min-height: 100vh;
        }

        .container {
            max-width: 100%;
            width: 100%;
            margin: 0 auto;
            position: relative;
        }

        .header {
            background: radial-gradient(circle at 0% 0%, rgba(59,130,246,0.4), transparent 55%),
                        radial-gradient(circle at 100% 0%, rgba(236,72,153,0.4), transparent 55%),
                        linear-gradient(135deg, #020617, #020617);
            border-radius: 28px;
            padding: 22px 18px 18px;
            margin-bottom: 18px;
            box-shadow: 0 24px 60px rgba(15,23,42,0.9);
            border: 1px solid rgba(148,163,184,0.4);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 10% 0%, rgba(148,163,253,0.25), transparent 55%);
            opacity: 0.9;
            pointer-events: none;
        }

        .header h1 {
            font-size: clamp(2.1rem, 4vw, 2.6rem);
            font-weight: 700;
            letter-spacing: 0.02em;
            color: #e5e7eb;
            display: flex;
            align-items: center;
            gap: 0.55em;
            position: relative;
            z-index: 1;
        }

        .header h1 span.tag {
            font-size: 0.7em;
            padding: 4px 11px;
            border-radius: var(--radius-pill);
            background: rgba(15,23,42,0.75);
            border: 1px solid rgba(148,163,184,0.8);
            color: #e5e7eb;
        }

        .header p {
            margin-top: 6px;
            color: #d1d5db;
            font-size: 0.98rem;
            line-height: 1.5;
            position: relative;
            z-index: 1;
        }

        .header p span.sub {
            display: inline-block;
            margin-left: 0.35em;
            opacity: 0.9;
        }

        .header-trigger-zone {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 260px;
            height: 40px;
            z-index: 900;
        }

        .header-collapse-btn {
            position: fixed;
            top: 6px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 901;
            border-radius: var(--radius-pill);
            border: 1px solid rgba(148,163,184,0.85);
            background: rgba(15,23,42,0.9);
            color: var(--text-light);
            padding: 6px 16px;
            font-size: 0.85rem;
            cursor: pointer;
            backdrop-filter: blur(18px);
            -webkit-backdrop-filter: blur(18px);
            transition: var(--transition);
            opacity: 0;
            pointer-events: none;
        }

        .header-trigger-zone:hover + .header-collapse-btn,
        .header-collapse-btn:hover {
            opacity: 1;
            pointer-events: auto;
        }

        body.header-collapsed .header {
            max-height: 0;
            margin-bottom: 0;
            padding-top: 0;
            padding-bottom: 0;
            opacity: 0;
            overflow: hidden;
            border-width: 0;
            box-shadow: none;
        }

        .layout-trigger-zone {
            position: fixed;
            top: 0;
            right: 0;
            width: 220px;
            height: 60px;
            z-index: 900;
        }

        .layout-toggle-btn {
            position: fixed;
            top: 8px;
            right: 14px;
            z-index: 901;
            border: none;
            background: radial-gradient(circle at 0% 0%, rgba(59,130,246,0.5), transparent 50%),
                        linear-gradient(135deg, #2563eb, #7c3aed);
            color: #f9fafb;
            padding: 8px 16px;
            border-radius: var(--radius-pill);
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: var(--transition);
            opacity: 0;
            pointer-events: none;
            font-family: inherit;
            box-shadow: 0 16px 40px rgba(15,23,42,0.9);
        }

        .layout-trigger-zone:hover + .layout-toggle-btn,
        .layout-toggle-btn:hover {
            opacity: 1;
            pointer-events: auto;
        }

        .layout-toggle-btn:hover {
            transform: translateY(-1px);
        }

        .content {
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        /* Layout modes */
        body.two-column-layout .content,
        body.translation-layout .content {
            display: grid;
            grid-template-columns: minmax(0, 1.08fr) minmax(0, 1.08fr);
            gap: 14px;
            align-items: stretch;
        }

        body.translation-layout .questions-container {
            display: none;
        }

        body.translation-layout .translation-section {
            display: block;
        }

        body.two-column-layout .translation-section {
            display: none;
        }

        .passage-section,
        .translation-section,
        .questions-container {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            box-shadow: var(--card-shadow);
            padding: 18px 16px 16px;
            color: var(--text-primary);
            position: relative;
            overflow: hidden;
        }

        .passage-section::before,
        .translation-section::before,
        .questions-container::before {
            content: "";
            position: absolute;
            inset: -60%;
            background: radial-gradient(circle at 0% 0%, rgba(59,130,246,0.09), transparent 55%);
            opacity: 0.8;
            pointer-events: none;
        }

        .passage-section h2,
        .translation-section h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 0.4em;
        }

        .passage-text,
        .translation-text {
            background: rgba(255,255,255,0.78);
            border-radius: 18px;
            padding: 12px 12px;
            border: 1px solid rgba(148,163,184,0.35);
            max-height: 520px;
            overflow-y: auto;
            position: relative;
        }

        body.two-column-layout .passage-text,
        body.two-column-layout .questions-container {
            height: calc(100vh - 170px);
            max-height: none;
        }

        .paragraph,
        .translation-paragraph {
            margin-bottom: 14px;
            line-height: 1.75;
            font-size: 0.97rem;
            position: relative;
            padding-left: 64px;
            padding-top: 14px; /* avoid overlap with label */
        }

        .paragraph:last-child,
        .translation-paragraph:last-child {
            margin-bottom: 6px;
        }

        .para-label,
        .trans-label {
            position: absolute;
            left: 10px;
            top: 0;
            font-size: 0.78rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            color: var(--accent-purple);
        }

        .underline {
            background: linear-gradient(180deg, transparent 60%, rgba(250,204,21,0.6) 60%);
            padding: 0 2px;
            font-weight: 600;
        }

        .questions-container {
            max-height: 520px;
            overflow-y: auto;
        }

        .questions-container h2 {
            font-size: 1.25rem;
            margin-bottom: 10px;
            color: #0f172a;
        }

        .question-section {
            border-radius: 20px;
            overflow: hidden;
            background: rgba(255,255,255,0.96);
            margin-bottom: 14px;
            box-shadow: 0 10px 28px rgba(148,163,184,0.55);
            border: 1px solid rgba(148,163,184,0.5);
            transition: box-shadow 0.2s ease, transform 0.2s ease, border-color 0.2s ease;
        }

        .question-section:hover {
            transform: translateY(-1px);
            box-shadow: 0 14px 34px rgba(15,23,42,0.4);
        }

        .question-header {
            padding: 8px 12px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-warm));
            color: #f9fafb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .question-header h3 {
            font-size: 0.95rem;
            font-weight: 600;
        }

        .question-header .toggle-icon {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .question-content {
            display: none;
            padding: 10px 12px 12px;
            background: rgba(255,255,255,0.98);
        }

        .question-content.visible {
            display: block;
        }

        .question-inner {
            font-size: 0.93rem;
            color: #111827;
            line-height: 1.7;
        }

        .question-text {
            margin-bottom: 6px;
        }

        .underline-ref {
            font-size: 0.88rem;
            padding: 6px 9px;
            border-radius: 10px;
            background: rgba(239,246,255,0.95);
            border: 1px solid rgba(191,219,254,0.9);
            margin-bottom: 8px;
        }

        .choices {
            margin: 8px 0 4px;
            padding-left: 1rem;
            font-size: 0.9rem;
        }

        .choices li {
            margin-bottom: 2px;
        }

        .choices li.correct {
            font-weight: 700;
            color: #166534;
        }

        .button-row {
            margin: 6px 0 4px;
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .show-hint-btn,
        .show-answer-btn {
            border-radius: var(--radius-pill);
            border: none;
            padding: 5px 12px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: 0.15s ease;
            white-space: nowrap;
        }

        .show-hint-btn {
            background: rgba(37,99,235,0.06);
            color: #1d4ed8;
            border: 1px solid rgba(129,140,248,0.7);
        }

        .show-answer-btn {
            background: rgba(22,163,74,0.06);
            color: #15803d;
            border: 1px solid rgba(74,222,128,0.9);
        }

        .show-hint-btn:hover,
        .show-answer-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(15,23,42,0.18);
        }

        .hint-section,
        .answer-section {
            display: none;
            margin-top: 8px;
        }

        .hint-section.visible,
        .answer-section.visible {
            display: block;
        }

        .box {
            border-radius: 10px;
            padding: 8px 10px;
            font-size: 0.88rem;
            margin-bottom: 6px;
        }

        .box-title {
            font-weight: 700;
            margin-bottom: 3px;
            font-size: 0.88rem;
        }

        .hint-box {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            color: #1e3a8a;
        }

        .correct-box {
            background: #ecfdf3;
            border-left: 4px solid #16a34a;
            color: #166534;
        }

        .strategy-box {
            background: #fefce8;
            border-left: 4px solid #fbbf24;
            color: #92400e;
        }

        .passage-ref-box {
            background: #f5f3ff;
            border-left: 4px solid #8b5cf6;
            color: #4b5563;
        }

        .wrong-box {
            background: #fef2f2;
            border-left: 4px solid var(--accent-red);
            color: #991b1b;
        }

        .wrong-box ul {
            padding-left: 1.1rem;
            margin-top: 2px;
        }

        .wrong-box li {
            margin-bottom: 2px;
        }

        .linked-highlight {
            outline: 2px solid rgba(249,115,22,0.85);
            background: rgba(254,243,199,0.8) !important;
        }

        .column-resizer {
            display: none;
        }

        body.translation-layout .passage-text,
        body.translation-layout .translation-text {
            max-height: calc(100vh - 150px);
        }

        body.translation-layout {
            overflow: hidden;
        }

        @media (max-width: 980px) {
            body.two-column-layout .content,
            body.translation-layout .content {
                display: flex;
                flex-direction: column;
            }

            .layout-toggle-btn {
                opacity: 1;
                pointer-events: auto;
            }

            body.two-column-layout .passage-text,
            body.two-column-layout .questions-container {
                height: auto;
                max-height: 520px;
            }
        }

        @media (max-width: 640px) {
            body {
                padding: 16px 6px 22px;
            }

            .header {
                padding: 18px 14px 14px;
            }

            .passage-section,
            .translation-section,
            .questions-container {
                padding: 16px 12px 12px;
            }

            .paragraph,
            .translation-paragraph {
                padding-left: 54px;
                padding-top: 12px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ð° Chapter 9 <span class="tag">Living Wage</span></h1>
            <p>
                Minimum wage vs. living wage in the U.S.
                <span class="sub">â ã¢ã¡ãªã«ã®æä½è³éã¨ãçæ´»è³éãããããè­°è«</span>
            </p>
        </div>

        <div class="header-trigger-zone"></div>
        <button class="header-collapse-btn" onclick="toggleHeader()">â² ãããã¼ãé ã</button>
        <div class="layout-trigger-zone"></div>
        <button class="layout-toggle-btn" onclick="toggleLayout()">ð± Two Columns</button>

        <div class="content">
            <!-- Passage -->
            <section class="passage-section">
                <h2>ð æ¬æ (Passage)</h2>
                <div class="passage-text" id="passagePane">
                    <div class="paragraph" id="para1" data-paragraph="1">
                        <div class="para-label">PARAGRAPH 1</div>
                        The current minimum wage in the United States is $7.25 per hour.
                        That means that a person working full time (40 hours per week) earns $290 per week,
                        or $15,080 per year. In most parts of the country, this is not enough to pay for basic
                        necessities. In Philadelphia, for example, the average rent for a one-bedroom apartment is
                        more than $1,600 per month. A person working full time at minimum wage in Philadelphia simply
                        cannot afford to live there. I believe that the minimum wage should be replaced by a
                        "living wage" which would provide a full-time worker with enough income to live on.
                    </div>

                    <div class="paragraph" id="para2" data-paragraph="2">
                        <div class="para-label">PARAGRAPH 2</div>
                        We havenât always had <span class="underline">(1)this problem</span>.
                        In the early 1970s, even the lowest-paid employees earned enough money to provide for
                        themselves, and <span class="underline">(2)far fewer families required two incomes in order
                        to live comfortably</span>. Even though workers are more productive today, wages have
                        remained about the same. In the meantime, the cost of necessities (such as housing, health
                        care, child care, education, and transportation) has increased greatly. In short, wages have
                        not kept up with the cost of living.
                    </div>

                    <div class="paragraph" id="para3" data-paragraph="3">
                        <div class="para-label">PARAGRAPH 3</div>
                        Those in favor of a living wage, which would vary depending on the cost of living in a
                        particular city, believe that earning a living wage should be guaranteed as a human right.
                        Everyone has the right to be paid fairly for their labor, they say. They also claim two
                        economic benefits of a living wage. First, a living wage would reduce the number of people
                        receiving money from the government to buy necessities. This reduces the financial burden on
                        taxpayers. Second, if people have more money, they are likely to spend it in their local
                        communities, buying the items they need from local businesses.
                        <span class="underline">(3)This</span>, supporters suggest, will increase profits, create jobs,
                        and strengthen local economies.
                    </div>

                    <div class="paragraph" id="para4" data-paragraph="4">
                        <div class="para-label">PARAGRAPH 4</div>
                        Those against a living wage argue that the economic effects on local businesses and local
                        economies could be very negative. <span class="underline">(4)They point to the burden placed
                        on small businesses.</span> If a fast food restaurant, for example, is required to raise the
                        hourly wage of all of its employees by as much as 40%, the owners will be forced to raise
                        prices to cover their increased costs. Some companies may be forced to cut jobs, while others
                        may have to close completely because they can no longer remain competitive and make a profit.
                        Under these conditions, local economies are likely to suffer as prices increase and employment
                        decreases.
                    </div>

                    <div class="paragraph" id="para5" data-paragraph="5">
                        <div class="para-label">PARAGRAPH 5</div>
                        Some cities have already passed living wage laws, which require local employers to pay
                        employees at a rate that is much higher than the minimum wage. However, these laws have only
                        recently been put into action, and it is too soon to judge their effectiveness. More data are
                        needed in order to determine if these laws improve the lives of working people.
                    </div>
                </div>
            </section>

            <!-- Resizer placeholder -->
            <div class="column-resizer" id="columnResizer"></div>

            <!-- Translation -->
            <section class="translation-section">
                <h2>ð å¨è¨³ (Full Translation)</h2>
                <div class="translation-text" id="translationPane">
                    <div class="translation-paragraph" id="trans1" data-paragraph="1">
                        <div class="trans-label">ç¬¬1æ®µè½</div>
                        ã¢ã¡ãªã«ã®ç¾å¨ã®æä½è³éã¯æçµ¦7.25ãã«ã§ãããããã¯ããã«ã¿ã¤ã ï¼é±40æéï¼ã§åãäººã
                        é±ã«290ãã«ãå¹´ã«15,080ãã«ãå¾ãã¨ãããã¨ã«ãªããããããå½ã®ã»ã¨ãã©ã®å°åã§ã¯ãããã¯
                        çæ´»ã«å¿è¦ãªåºæ¬çãªè²»ç¨ãæãã«ã¯ååã§ã¯ãªãããã¨ãã°ãã£ã©ãã«ãã£ã¢ã§ã¯ã1ãããã«ã¼ã ã®
                        ã¢ãã¼ãã®å¹³åå®¶è³ã¯æ1,600ãã«ãè¶ãããæä½è³éã§ãã«ã¿ã¤ã åãäººã¯ãããã§æ®ãããã¨ãªã©
                        ã¨ã¦ãã§ããªããã ããç§ã¯ãæä½è³éã¯ããã¦ããã«ã¿ã¤ã å´åèãçæ´»ã§ããã ãã®åå¥ãå¾ããã
                        ãçæ´»è³éãã«ç½®ãæããã¹ãã ã¨èãã¦ããã
                    </div>

                    <div class="translation-paragraph" id="trans2" data-paragraph="2">
                        <div class="trans-label">ç¬¬2æ®µè½</div>
                        ç§ãã¡ããã¤ã<span class="underline">ãã®åé¡</span>ãæ±ãã¦ããããã§ã¯ãªãã1970å¹´ä»£
                        åãã«ã¯ãæãä½ãè³éã§åãäººãã¡ã§ãããèªåã§çæ´»ãã¦ãããã ãã®åå¥ãå¾ã¦ãããã
                        <span class="underline">å¿«é©ã«æ®ããããã«2ã¤ã®åå¥ãå¿è¦ã¨ããå®¶æã¯ä»ãããã£ã¨å°ãªãã£ã</span>ã
                        ä»æ¥ã§ã¯å´åèã®çç£æ§ã¯ä¸ãã£ã¦ããã®ã«ãè³éã¯ã»ã¨ãã©å¤ãã£ã¦ããªãããã®ä¸æ¹ã§ã
                        ä½å±è²»ãå»çè²»ãä¿è²è²»ãæè²è²»ãäº¤éè²»ãªã©ãçæ´»å¿éåã®è²»ç¨ã¯å¤§ããä¸æãã¦ããã
                        è¦ããã«ãè³éã¯çæ´»è²»ã®ä¸æã«è¿½ãã¤ãã¦ããªãã£ãã®ã§ããã
                    </div>

                    <div class="translation-paragraph" id="trans3" data-paragraph="3">
                        <div class="trans-label">ç¬¬3æ®µè½</div>
                        çæ´»è³éãæ¯æããäººãã¡ã¯ããã®éé¡ã¯åé½å¸ã®çæ´»è²»ã«ãã£ã¦å¤ããã¹ãã ã¨èãã
                        çæ´»ã§ããè³éãå¾ããã¨ã¯äººæ¨©ã¨ãã¦ä¿è¨¼ãããã¹ãã ã¨ä¸»å¼µãã¦ãããèª°ãããèªåã®å´åã«å¯¾ãã¦
                        å¬æ­£ãªè³éãåãåãæ¨©å©ããããã¨å½¼ãã¯è¨ããã¾ãå½¼ãã¯ãçæ´»è³éã«ã¯2ã¤ã®çµæ¸çãªå©ç¹ãããã¨
                        ä¸»å¼µããã1ã¤ç®ã¯ãçæ´»è³éã«ãã£ã¦ãçæ´»å¿éåãè²·ãããã«æ¿åºãããéãåãåãäººã®æ°ãæ¸ããã¨ã§ããã
                        ããã¯ç´ç¨èã®è² æãè»½ãããã2ã¤ç®ã¯ãäººãã®æåããå¢ããã°ããã®ãéãå°åã®ã³ãã¥ããã£ã§ä½¿ãã
                        å¿è¦ãªç©ãå°åã®åºã§è²·ãããã«ãªãå¯è½æ§ãé«ãã¨ããç¹ã§ãããçæ´»è³éæ¯æèã«ããã°ã
                        <span class="underline">ããããåã</span>ãå©çãå¢ãããéç¨ãçã¿ãå°åçµæ¸ãå¼·ãããã®ã ã¨ããã
                    </div>

                    <div class="translation-paragraph" id="trans4" data-paragraph="4">
                        <div class="trans-label">ç¬¬4æ®µè½</div>
                        ä¸æ¹ãçæ´»è³éã«åå¯¾ããäººãã¡ã¯ãå°åä¼æ¥­ãå°åçµæ¸ã¸ã®çµæ¸çãªå½±é¿ã¯éå¸¸ã«æªããã®ã«ãªã
                        å¾ãã¨ä¸»å¼µããã<span class="underline">å½¼ãã¯ãä¸­å°ä¼æ¥­ã«ãããè² æãææãã</span>ã
                        ãã¨ãã°ããã¡ã¹ããã¼ãåºãå¨ã¦ã®å¾æ¥­å¡ã®æçµ¦ã4å²ãå¼ãä¸ããªããã°ãªããªãã¨ããã¨ã
                        çµå¶èã¯å¢ããäººä»¶è²»ãã¾ããªãããã«ä¾¡æ ¼ãä¸ããããããªããããä¼æ¥­ã¯éç¨ãåæ¸ããããããã
                        å¥ã®ä¼æ¥­ã¯ããã¯ãç«¶äºåãä¿ã£ã¦å©çãä¸ãããã¨ãã§ããªããªããéåºã«è¿½ãè¾¼ã¾ãããããããªãã
                        ãã®ãããªç¶æ³ã§ã¯ãç©ä¾¡ã¯ä¸ãããéç¨ã¯æ¸ããããå°åçµæ¸ã¯ææãåããå¯è½æ§ãé«ãã
                    </div>

                    <div class="translation-paragraph" id="trans5" data-paragraph="5">
                        <div class="trans-label">ç¬¬5æ®µè½</div>
                        ãã§ã«çæ´»è³éæ¡ä¾ãå¯æ±ºããé½å¸ããããããããé½å¸ã§ã¯ãéç¨ä¸»ã¯ãå¾æ¥­å¡ã«æä½è³éããã
                        ã¯ããã«é«ãæ°´æºã§è³éãæ¯æããã¨ãç¾©åã¥ãããã¦ããããããããããã®æ¡ä¾ã¯ããæè¿ã«ãªã£ã¦
                        å®éã«æ½è¡ããå§ããã°ããã§ããããã®å¹æãå¤æ­ããã«ã¯ã¾ã æ©ãããããããã®æ¡ä¾ãæ¬å½ã«
                        åãäººãã®çæ´»ãåä¸ããã¦ããã®ãã©ãããè¦æ¥µããã«ã¯ãããã«å¤ãã®ãã¼ã¿ãå¿è¦ã§ããã
                    </div>
                </div>
            </section>

            <!-- Questions -->
            <section class="questions-container">
                <h2>ð è¨­å & è§£èª¬ (Questions & Breakdown)</h2>

                <!-- Q1 -->
                <div class="question-section" data-target-paragraphs="1">
                    <div class="question-header" onclick="toggleQuestion('q1')">
                        <h3>åé¡ 1: åå®¹çè§£ (Philadelphia ã®ä¾)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q1" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong>
                                Why does the author refer to the cost of an apartment in Philadelphia?
                            </div>

                            <div class="underline-ref">
                                <strong>Relevant sentence:</strong><br>
                                âIn Philadelphia, for example, the average rent for a one-bedroom apartment is
                                more than $1,600 per month. A person working full time at minimum wage in Philadelphia
                                simply cannot afford to live there.â
                            </div>

                            <ul class="choices">
                                <li>â  To encourage people to live outside of the city.</li>
                                <li>â¡ To encourage people to work more if they want to live in Philadelphia.</li>
                                <li>â¢ To show that people earning the minimum wage cannot afford to live there.</li>
                                <li>â£ To show that Philadelphia is the most expensive city to live in.</li>
                            </ul>

                            <div class="button-row">
                                <button class="show-hint-btn" onclick="showHint(event, 'hint1')">
                                    ð­ Show Hint / ãã³ã
                                </button>
                                <button class="show-answer-btn" onclick="showAnswer(event, 'answer1')">
                                    â Show Answer / è§£ç­
                                </button>
                            </div>

                            <div id="hint1" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã (Hint)</div>
                                    ã»ããã£ã©ãã«ãã£ã¢ã®å®¶è³ãã¯ä½ã®<strong>å·ä½ä¾</strong>ãï¼<br>
                                    ã»ã­ã¼ã¯ âcannot afford to live thereâ ã<br>
                                    ã»èèã¯ãæä½è³éãã¨ãçæ´»è²»ãã®<strong>ã®ã£ãã</strong>ãç¤ºãããã<br>
                                    ã»â â¡â£ã¯ãè¡åãä¿ãã¦ãããæããããã Ã ãçãã
                                </div>
                            </div>

                            <div id="answer1" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    æ­£è§£ã¯ <strong>â¢</strong>ã<br>
                                    âãæä½è³éã§ãã«ã¿ã¤ã åãã¦ããããã§æ®ãããã¨ãã§ããªãããã¨ãç¤ºãããã
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼</div>
                                    ã»é½å¸åï¼æ°å­ã¯ããã¦ããã·ã§ãã­ã³ã°ãªä¾ãã<br>
                                    ã»ä¾ãä½ã®èª¬æã«ãªã£ã¦ãããã¯ã<strong>ç´åã®æ</strong>ã¨ã»ããã§èª­ãã<br>
                                    ã»ããã§ã¯ãminimum wage ã§ã basic necessities ãæããªããããå®¶è³ã®è©±ã§ã¤ã¡ã¼ã¸ããã¦ããã
                                </div>

                                <div class="box wrong-box">
                                    <div class="box-title">â èª¤ç­è§£èª¬ (Wrong choices)</div>
                                    <ul>
                                        <li><strong>â </strong> ãéå¤ã«ä½ãã¨è¨ããããâ ãããªã¢ããã¤ã¹ã¯æ¬æã«ä¸åãªãã</li>
                                        <li><strong>â¡</strong> ããã£ã¨åãã¨è¨ã£ã¦ãããâ hours ãå¢ããã¨ã¯æ¸ãã¦ããªãã</li>
                                        <li><strong>â£</strong> ãä¸çªé«ãé½å¸ãâ ä»ã®é½å¸ã¨æ¯ã¹ã¦ããªãã®ã§è¨ãããã</li>
                                    </ul>
                                    ã©ãããä½èã®ä¸»å¼µãã§ã¯ãªããèª­ã¿æãåæã«ä»ãè¶³ããåå®¹ã«ãªã£ã¦ããã®ã§ Ãã
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð æ¬æããã®è¨¼æ </div>
                                    âA person working full time at minimum wage in Philadelphia simply cannot afford
                                    to live there.â â é¸æè¢â¢ã¨ã´ã£ããå¯¾å¿ã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Q2 -->
                <div class="question-section" data-target-paragraphs="2">
                    <div class="question-header" onclick="toggleQuestion('q2')">
                        <h3>åé¡ 2: ä¸ç·é¨ (1) this problem ã®åå®¹</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q2" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong>
                                ä¸ç·é¨ (1) <strong>this problem</strong> ãæãåå®¹ãæ¥æ¬èªã§èª¬æããªããã
                            </div>

                            <div class="underline-ref">
                                <strong>ãã³ãã¨ãªãæ:</strong><br>
                                âIn short, wages have not kept up with the cost of living.â
                            </div>

                            <div class="button-row">
                                <button class="show-hint-btn" onclick="showHint(event, 'hint2')">
                                    ð­ Show Hint / ãã³ã
                                </button>
                                <button class="show-answer-btn" onclick="showAnswer(event, 'answer2')">
                                    â Show Answer / è§£ç­
                                </button>
                            </div>

                            <div id="hint2" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã (Hint)</div>
                                    ã»this problem ã¯ãæ®µè½2ã®åå®¹å¨ä½ãä¸è¨ã§ã¾ã¨ãããã®ã<br>
                                    ã»æå¾ã® âIn short, ï½â ã«æ³¨ç®ããè¦ããã«ãã§å§ã¾ãæã¯è¦ç´ã<br>
                                    ã»ãä½ã¨ä½ã®ãã©ã³ã¹ããå´©ããã®ãï¼ wages ã¨ cost of living ã«ç·ãå¼ãã¦ç¢ºèªã
                                </div>
                            </div>

                            <div id="answer2" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    <strong>è³éãã»ã¨ãã©ä¸ãã£ã¦ããªãä¸æ¹ã§ãçæ´»è²»ã ããå¤§ããä¸æãã
                                    è³éãçæ´»è²»ã®ä¸æã«è¿½ãã¤ãã¦ããªãã¨ããåé¡ã</strong>
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼</div>
                                    ã»æç¤ºèª this ã¯ãç´åã®èª¬æããä¸è¨ã§ãã¾ã¨ãã¦ãããã¨ãå¤ãã<br>
                                    ã»âIn short, ï½â ã®æããã®ã¾ã¾æ¥æ¬èªã«ãããã®ãç­ãã«ãªãã±ã¼ã¹ã¯è¶å¤ãã<br>
                                    ã»ãä½ãä¸ãã£ãï¼ä¸ãã£ã¦ããªããããå¯¾æ¯ã§æ´çããã¨ã¹ãã­ãªã
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð æ¬æããã®è¨¼æ </div>
                                    âIn short, wages have not kept up with the cost of living.â<br>
                                    âãè³éãçæ´»è²»ã®ä¸æã«è¿½ãã¤ãã¦ããªããï¼ this problemã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Q3 -->
                <div class="question-section" data-target-paragraphs="2">
                    <div class="question-header" onclick="toggleQuestion('q3')">
                        <h3>åé¡ 3: ä¸ç·é¨ (2) åè¨³</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q3" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong>
                                ä¸ç·é¨ (2) ãåè¨³ããªããã
                            </div>

                            <div class="underline-ref">
                                <strong>ä¸ç·é¨ (2):</strong><br>
                                âfar fewer families required two incomes in order to live comfortablyâ
                            </div>

                            <div class="button-row">
                                <button class="show-hint-btn" onclick="showHint(event, 'hint3')">
                                    ð­ Show Hint / ãã³ã
                                </button>
                                <button class="show-answer-btn" onclick="showAnswer(event, 'answer3')">
                                    â Show Answer / è§£ç­
                                </button>
                            </div>

                            <div id="hint3" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã (Hint)</div>
                                    ã»âfar fewer Aâ = ãA ã¯ï¼ä»ã¨æ¯ã¹ã¦ï¼ãã£ã¨å°ãªãã£ããã<br>
                                    ã»âtwo incomesâ = å®¶æ2äººåã®åå¥ï¼å±åãã¤ã¡ã¼ã¸ï¼ã<br>
                                    ã»âin order to ï½â = ãï½ããããã«ãã<br>
                                    ã»åãã¦èª­ãï¼far fewer families / required two incomes / in order to live comfortablyã
                                </div>
                            </div>

                            <div id="answer3" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    <strong>å¿«é©ã«æ®ããããã« 2 ã¤ã®åå¥ãå¿è¦ã¨ããå®¶æã¯ã
                                    ï¼ç¾å¨ã¨æ¯ã¹ã¦ï¼ãã£ã¨å°ãªãã£ãã</strong>
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼</div>
                                    ã»æ¯è¼è¡¨ç¾ âfar fewerâ ãè¦ããããä»ã¨æ¯ã¹ã¦ããé ­ã«è¶³ãã<br>
                                    ã»required two incomes ãã2ã¤ã®åå¥ãå¿è¦ã¨ãããã¨ãã®ã¾ã¾è¨³ããfamilies ãå¾ãããããããå®¶æãã¨ã¤ãªããã¨èªç¶ã<br>
                                    ã»live comfortably ã¯ãå¿«é©ã«æ®ãã/æ¥½ã«æ®ããããªã©é«æ ¡å¥è©¦ãå±éãã¹ãã¬ãã«ã®æ¥æ¬èªã§OKã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Q4 -->
                <div class="question-section" data-target-paragraphs="3">
                    <div class="question-header" onclick="toggleQuestion('q4')">
                        <h3>åé¡ 4: æç¤ºèª (3) This ã®åå®¹</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q4" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong>
                                ä¸ç·é¨ (3) <strong>This</strong> ã¯å·ä½çã«ä½ãæãã¦ããããæãé©åãªãã®ã 1 ã¤é¸ã³ãªããã
                            </div>

                            <div class="underline-ref">
                                <strong>Sentence:</strong><br>
                                âSecond, if people have more money, they are likely to spend it in their local
                                communities, buying the items they need from local businesses.
                                <span class="underline">(3)This</span>, supporters suggest, will increase profits, create jobs,
                                and strengthen local economies.â
                            </div>

                            <ul class="choices">
                                <li>â  Government reducing the financial burden on taxpayers.</li>
                                <li>â¡ People spending their increased wages in local communities.</li>
                                <li>â¢ Fewer people relying on assistance from the government.</li>
                                <li>â£ Viewing a living wage as a guaranteed human right.</li>
                            </ul>

                            <div class="button-row">
                                <button class="show-hint-btn" onclick="showHint(event, 'hint4')">
                                    ð­ Show Hint / ãã³ã
                                </button>
                                <button class="show-answer-btn" onclick="showAnswer(event, 'answer4')">
                                    â Show Answer / è§£ç­
                                </button>
                            </div>

                            <div id="hint4" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã (Hint)</div>
                                    ã»æç¤ºèª This ã¯ããµã¤ãç´åã®<strong>å·ä½çãªè¡å</strong>ãæãã<br>
                                    ã»âSecond, ï½â ã®å¾ãã®æã§ people ã¯ä½ããã¦ããï¼<br>
                                    ã»ãä½ã increase profits, create jobs ãçãã®ãï¼ãã¨èããã
                                </div>
                            </div>

                            <div id="answer4" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    æ­£è§£ã¯ <strong>â¡</strong>ã<br>
                                    âãäººããå¢ãããéãå°åã®ã³ãã¥ããã£ã§ä½¿ããã¨ãã
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼</div>
                                    ã»æç¤ºèªåé¡ã§ã¯ããThis = ç´åã®ä¸çªå·ä½çãªé¨åããæ¢ãã<br>
                                    ã»ããã§ã¯ âspend it in their local communities, buying the items they need
                                    from local businessesâ ãç­ãè¨ãæãããã®ã<br>
                                    ã»â â¢â£ã¯æ¬æã«åºã¦ããããã©ãå ´æãéã or æ½è±¡çãããã®ã§ Ãã
                                </div>

                                <div class="box wrong-box">
                                    <div class="box-title">â èª¤ç­è§£èª¬</div>
                                    <ul>
                                        <li><strong>â </strong> ç´ç¨èã®è² æã®è©±ã¯ first ã®çµæ¸çå©ç¹ï¼ååã®å¥ã®æï¼ãSecond ã®èª¬æã§ã¯ãªãã</li>
                                        <li><strong>â¢</strong> ããã first ã®åå®¹ããæ¿åºã®æ¯æ´ã«é ¼ãäººãæ¸ãããã¼ãã</li>
                                        <li><strong>â£</strong> ãäººæ¨©ã¨ãã¦ä¿è¨¼ãã¹ããã¯æ®µè½3ã®ååã®ä¾¡å¤è¦³ã®è©±ã§ãçµæ¸å¹æã®å·ä½ä¾ã§ã¯ãªãã</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Q5 -->
                <div class="question-section" data-target-paragraphs="4">
                    <div class="question-header" onclick="toggleQuestion('q5')">
                        <h3>åé¡ 5: ä¸ç·é¨ (4) They ã®åå®¹ï¼åè¨³</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q5" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong>
                                ä¸ç·é¨ (4) ããThey ãæãåå®¹ãæããã«ãã¦æ¥æ¬èªã«è¨³ããªããã
                            </div>

                            <div class="underline-ref">
                                <strong>ä¸ç·é¨ (4):</strong><br>
                                â<span class="underline">(4)They</span> point to the burden placed on small businesses.â
                            </div>

                            <div class="button-row">
                                <button class="show-hint-btn" onclick="showHint(event, 'hint5')">
                                    ð­ Show Hint / ãã³ã
                                </button>
                                <button class="show-answer-btn" onclick="showAnswer(event, 'answer5')">
                                    â Show Answer / è§£ç­
                                </button>
                            </div>

                            <div id="hint5" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã (Hint)</div>
                                    ã»They ã¯åãæ®µè½ã®<strong>ä¸»èª</strong>ã«æ»ããã¨ãå¤ãã<br>
                                    ã»Paragraph 4 ã®æåã®æã®ä¸»èªã«ãã¼ã«ã¼ãå¼ãã¦ããèª­ãã<br>
                                    ã»åè¨³ã§ã¯ããã¯â¦ãææãããã¨ä¸»èªãè£ãã¨èª­ã¿ãããã
                                </div>
                            </div>

                            <div id="answer5" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    <strong>çæ´»è³éã«åå¯¾ããäººãã¯ãä¸­å°ä¼æ¥­ã«ãããè² æãææããã</strong>
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼</div>
                                    ã»ä»£åè© They ã¯ãç´åã«åºã¦ããè¤æ°åè©ã«æ»ãã®ãåºæ¬ã<br>
                                    ã»âThose against a living wageâ ï¼ ãçæ´»è³éã«åå¯¾ããäººããã<br>
                                    ã»åè¨³ã§ã¯ãä¸»èªãããã­ãªæ¸ãã¦ããããã¯â¦ãææãããã¨ã¤ãªããã¨èªç¶ãªæ¥æ¬èªã«ãªãã
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð æ¬æããã®è¨¼æ </div>
                                    âThose against a living wage argue that â¦ They point to the burden placed on small
                                    businesses.â â They = Those against a living wageã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Q6 -->
                <div class="question-section" data-target-paragraphs="5">
                    <div class="question-header" onclick="toggleQuestion('q6')">
                        <h3>åé¡ 6: åå®¹çè§£ (Living Wage Laws)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q6" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong>
                                What has been the effect of current living wage laws so far?
                            </div>

                            <ul class="choices">
                                <li>â  They have had no effect on local economies.</li>
                                <li>â¡ They have clearly succeeded in improving peopleâs lives.</li>
                                <li>â¢ They have clearly failed to improve peopleâs lives.</li>
                                <li>â£ They have not yet been clearly evaluated.</li>
                            </ul>

                            <div class="button-row">
                                <button class="show-hint-btn" onclick="showHint(event, 'hint6')">
                                    ð­ Show Hint / ãã³ã
                                </button>
                                <button class="show-answer-btn" onclick="showAnswer(event, 'answer6')">
                                    â Show Answer / è§£ç­
                                </button>
                            </div>

                            <div id="hint6" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã (Hint)</div>
                                    ã»Paragraph 5 ã®æå¾ã® 2 æã«æ³¨ç®ã<br>
                                    ã»âtoo soon to judgeââMore data are neededâ ã®ãã¥ã¢ã³ã¹ãã¤ããã<br>
                                    ã»ãå®å¨ã«æåï¼å®å¨ã«å¤±æãã¨è¨ãåã£ã¦ããé¸æè¢ã¯æªããã
                                </div>
                            </div>

                            <div id="answer6" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    æ­£è§£ã¯ <strong>â£</strong>ã<br>
                                    âãã¾ã ã¯ã£ããè©ä¾¡ããã¦ããªããã
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼</div>
                                    ã»âtoo soon to judge their effectivenessâ = ãå¹æãå¤æ­ããã«ã¯æ©ããããã<br>
                                    ã»âMore data are neededâ = ããã£ã¨ãã¼ã¿ãå¿è¦ãã<br>
                                    â ã¤ã¾ããè¯ããæªããã¯ãã¾ã åãããªãããã³ã¢ã
                                </div>

                                <div class="box wrong-box">
                                    <div class="box-title">â èª¤ç­è§£èª¬</div>
                                    <ul>
                                        <li><strong>â </strong> ãå¨ãå¹æãªããã¨è¨ãåã£ã¦ããããæ¬æã¯ããã¾ã§è¨ã£ã¦ããªãã</li>
                                        <li><strong>â¡</strong> ãã¯ã£ããæåãã¨æ±ºãã¤ããtoo soon to judge ã¨çç¾ã</li>
                                        <li><strong>â¢</strong> ãã¯ã£ããå¤±æãã¨æ±ºãã¤ãããã¡ããæ¬æã¨çéã</li>
                                    </ul>
                                    ããã¼ã¿ä¸è¶³ã§ã¾ã å¤æ­ã§ããªããã¨ãããã¥ã¢ã³ã¹ãã¤ãããã° â£ ä¸æã«ãªãã
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð æ¬æããã®è¨¼æ </div>
                                    âthese laws have only recently been put into action, and it is too soon to judge
                                    their effectiveness. More data are needed â¦â â â£ã¨ä¸è´ã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </section>
        </div>
    </div>

    <script>
        // Layout modes: 0 = single, 1 = two-column (questions), 2 = two-column (translation)
        let layoutMode = 0;

        function toggleLayout() {
            const btn = document.querySelector('.layout-toggle-btn');

            document.body.classList.remove('two-column-layout', 'translation-layout');

            layoutMode = (layoutMode + 1) % 3;

            switch (layoutMode) {
                case 0:
                    btn.textContent = 'ð± Two Columns';
                    break;
                case 1:
                    document.body.classList.add('two-column-layout');
                    btn.textContent = 'ð Translation View';
                    break;
                case 2:
                    document.body.classList.add('translation-layout');
                    btn.textContent = 'ð Single Column';
                    break;
            }
        }

        function toggleHeader() {
            document.body.classList.toggle('header-collapsed');
            const btn = document.querySelector('.header-collapse-btn');
            if (document.body.classList.contains('header-collapsed')) {
                btn.textContent = 'â¼ ãããã¼ãè¡¨ç¤ºãã';
            } else {
                btn.textContent = 'â² ãããã¼ãé ã';
            }
        }

        function toggleQuestion(id) {
            const content = document.getElementById(id);
            if (!content) return;
            content.classList.toggle('visible');
        }

        function showHint(event, id) {
            event.stopPropagation();
            const hint = document.getElementById(id);
            if (!hint) return;
            const btn = event.currentTarget || event.target;
            const isVisible = hint.classList.toggle('visible');
            btn.textContent = isVisible
                ? 'ð­ Hide Hint / ãã³ããé ã'
                : 'ð­ Show Hint / ãã³ã';
        }

        function showAnswer(event, id) {
            event.stopPropagation();
            const ans = document.getElementById(id);
            if (!ans) return;
            const btn = event.currentTarget || event.target;
            const isVisible = ans.classList.toggle('visible');
            btn.textContent = isVisible
                ? 'â Hide Answer / è§£ç­ãé ã'
                : 'â Show Answer / è§£ç­';
        }

        // Linked highlight between questions, passage, and translation
        function setupLinkedHighlight() {
            const questionSections = document.querySelectorAll('.question-section');
            const paragraphs = document.querySelectorAll('.paragraph');
            const translations = document.querySelectorAll('.translation-paragraph');

            function clearLinked() {
                questionSections.forEach(q => q.classList.remove('linked-highlight'));
                paragraphs.forEach(p => p.classList.remove('linked-highlight'));
                translations.forEach(t => t.classList.remove('linked-highlight'));
            }

            // Question â Passage & Translation
            questionSections.forEach(sec => {
                const targets = (sec.getAttribute('data-target-paragraphs') || '')
                    .split(',')
                    .map(s => s.trim())
                    .filter(Boolean);

                sec.addEventListener('mouseenter', () => {
                    clearLinked();
                    sec.classList.add('linked-highlight');
                    targets.forEach(num => {
                        const p = document.querySelector('#para' + num);
                        const t = document.querySelector('#trans' + num);
                        if (p) p.classList.add('linked-highlight');
                        if (t) t.classList.add('linked-highlight');
                    });
                });

                sec.addEventListener('mouseleave', () => {
                    clearLinked();
                });
            });

            // Passage paragraph hover
            paragraphs.forEach(p => {
                const num = p.getAttribute('data-paragraph');
                p.addEventListener('mouseenter', () => {
                    clearLinked();
                    p.classList.add('linked-highlight');
                    const q = document.querySelector('.question-section[data-target-paragraphs*="' + num + '"]');
                    const t = document.querySelector('#trans' + num);
                    if (q) q.classList.add('linked-highlight');
                    if (t) t.classList.add('linked-highlight');
                });

                p.addEventListener('mouseleave', () => {
                    clearLinked();
                });
            });

            // Translation paragraph hover
            translations.forEach(t => {
                const num = t.getAttribute('data-paragraph');
                t.addEventListener('mouseenter', () => {
                    clearLinked();
                    t.classList.add('linked-highlight');
                    const p = document.querySelector('#para' + num);
                    const q = document.querySelector('.question-section[data-target-paragraphs*="' + num + '"]');
                    if (p) p.classList.add('linked-highlight');
                    if (q) q.classList.add('linked-highlight');
                });

                t.addEventListener('mouseleave', () => {
                    clearLinked();
                });
            });
        }

        // Scroll sync between passage and translation in translation-layout
        function setupScrollSync() {
            const passage = document.getElementById('passagePane');
            const translation = document.getElementById('translationPane');
            if (!passage || !translation) return;

            let isSyncing = false;

            function syncScroll(source, target) {
                if (isSyncing) return;
                if (!document.body.classList.contains('translation-layout')) return;

                isSyncing = true;
                const ratio = source.scrollTop / (source.scrollHeight - source.clientHeight || 1);
                target.scrollTop = ratio * (target.scrollHeight - target.clientHeight);
                setTimeout(() => { isSyncing = false; }, 40);
            }

            passage.addEventListener('scroll', () => syncScroll(passage, translation));
            translation.addEventListener('scroll', () => syncScroll(translation, passage));
        }

        document.addEventListener('DOMContentLoaded', () => {
            setupLinkedHighlight();
            setupScrollSync();
        });
    </script>
</body>
</html>
