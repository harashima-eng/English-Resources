<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 18: The Paradox of Happiness - Reading Breakdown</title>
    <style>
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-base: #0a0a0f;
            --card-bg: linear-gradient(145deg, rgba(255,255,255,0.97) 0%, rgba(250,250,252,0.98) 50%, rgba(245,245,250,0.97) 100%);
            --card-border: rgba(255,255,255,0.12);
            --card-shadow: 0 24px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.06);
            --text-primary: #1d1d1f;
            --text-secondary: #6e6e73;
            --text-light: #f5f5f7;
            --accent-primary: #3b82f6;
            --accent-warm: #f59e0b;
            --accent-red: #ef4444;
            --accent-green: #10b981;
            --accent-purple: #8b5cf6;
            --radius-lg: 22px;
            --radius-md: 16px;
            --radius-sm: 10px;
            --radius-pill: 999px;
            --transition: 0.28s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: 0.16s cubic-bezier(0.4, 0, 0.2, 1);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Hiragino Kaku Gothic ProN", "Hiragino Sans", "Yu Gothic UI", "Meiryo", sans-serif;
            background:
                radial-gradient(ellipse at 0% 0%, rgba(59, 130, 246, 0.25), transparent 50%),
                radial-gradient(ellipse at 100% 0%, rgba(139, 92, 246, 0.2), transparent 50%),
                radial-gradient(ellipse at 50% 100%, rgba(16, 185, 129, 0.15), transparent 55%),
                linear-gradient(160deg, #0a0c14 0%, #070810 40%, #04060d 100%);
            background-attachment: fixed;
            color: var(--text-light);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            padding: 0;
            line-height: 1.8;
        }

        .container {
            width: 100%;
            margin: 0;
            min-height: 100vh;
        }

        .header {
            background: var(--card-bg);
            color: var(--text-primary);
            padding: 40px;
            text-align: center;
            transition: all 0.35s ease;
            margin: 24px;
            border-radius: var(--radius-lg);
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-purple), var(--accent-warm));
        }

        body.header-collapsed .header {
            display: none;
        }

        .header h1 {
            font-size: clamp(26px, 4.5vw, 2.5em);
            font-weight: 800;
            letter-spacing: -0.03em;
            margin-bottom: 10px;
            line-height: 1.2;
            color: var(--text-primary);
        }

        .header p {
            font-size: 1.2em;
            color: var(--text-secondary);
        }

        /* Header collapse button - appears on hover at top center */
        .header-trigger-zone {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 60px;
            z-index: 999;
        }

        .header-collapse-btn {
            position: fixed;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            color: var(--text-light);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: var(--radius-pill);
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: var(--transition);
            opacity: 0;
            pointer-events: none;
            font-family: inherit;
        }

        .header-trigger-zone:hover + .header-collapse-btn,
        .header-collapse-btn:hover {
            opacity: 1;
            pointer-events: auto;
        }

        .header-collapse-btn:hover {
            background: rgba(255,255,255,0.25);
        }

        /* Button styling when header is hidden */
        body.header-collapsed .header-collapse-btn {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            color: white;
            border: none;
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.35);
        }

        body.header-collapsed .header-collapse-btn:hover {
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
        }

        /* Layout toggle button - appears on hover at top right */
        .layout-trigger-zone {
            position: fixed;
            top: 0;
            right: 0;
            width: 200px;
            height: 60px;
            z-index: 999;
        }

        .layout-toggle-btn {
            position: fixed;
            top: 10px;
            right: 20px;
            z-index: 1000;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            color: var(--text-light);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: var(--radius-pill);
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: var(--transition);
            opacity: 0;
            pointer-events: none;
            font-family: inherit;
        }

        .layout-trigger-zone:hover + .layout-toggle-btn,
        .layout-toggle-btn:hover {
            opacity: 1;
            pointer-events: auto;
        }

        .layout-toggle-btn:hover {
            background: rgba(255,255,255,0.25);
        }

        /* Layout toggle button styling when header is hidden */
        body.header-collapsed .layout-toggle-btn {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            color: white;
            border: none;
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.35);
        }

        body.header-collapsed .layout-toggle-btn:hover {
            background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
        }

        /* Translation section - hidden by default */
        .translation-section {
            display: none;
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .translation-section::before {
            content: "";
            position: absolute;
            top: 0; left: 0; bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--accent-green), var(--accent-primary));
        }

        .translation-section h2 {
            color: var(--accent-green);
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: 700;
        }

        .translation-text {
            background: rgba(0,0,0,0.02);
            padding: 25px;
            border-radius: var(--radius-md);
            line-height: 2.2;
            font-size: 1.05em;
            color: var(--text-primary);
        }

        .translation-paragraph {
            margin-bottom: 20px;
            text-align: justify;
            text-justify: inter-word;
            padding: 10px;
            border-radius: var(--radius-sm);
            transition: background 0.2s ease, outline 0.2s ease;
        }

        .trans-label {
            font-weight: 700;
            color: var(--accent-green);
            display: block;
            margin-bottom: 8px;
            text-align: left;
        }

        /* Translation layout mode */
        body.translation-layout .content {
            display: flex;
            max-width: 100%;
            padding: 20px;
            gap: 0;
            height: calc(100vh - 120px);
            overflow: hidden;
        }

        body.translation-layout .passage-section {
            flex: 0 0 auto;
            width: var(--passage-width, 50%);
            min-width: 300px;
            max-width: 70%;
            margin-bottom: 0;
            overflow-y: auto;
            height: 100%;
            position: relative;
        }

        body.translation-layout .translation-section {
            display: block;
            flex: 1;
            overflow-y: auto;
            height: 100%;
            margin-bottom: 0;
            margin-left: 20px;
        }

        body.translation-layout .questions-container {
            display: none;
        }

        body.translation-layout .column-resizer {
            display: block;
        }

        /* Sync scroll highlight for translation */
        .translation-paragraph.linked-highlight {
            outline: 3px solid rgba(249,115,22,0.9);
            background: rgba(255,237,213,0.9);
            border-radius: var(--radius-sm);
        }

        /* Clickable paragraphs in translation view */
        body.translation-layout .paragraph,
        body.translation-layout .translation-paragraph {
            cursor: pointer;
            transition: all 0.2s ease;
        }

        body.translation-layout .paragraph:hover,
        body.translation-layout .translation-paragraph:hover {
            background: rgba(59, 130, 246, 0.08);
        }

        body.translation-layout .paragraph:active,
        body.translation-layout .translation-paragraph:active {
            transform: scale(0.99);
        }

        .content {
            padding: 30px 24px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Two-column layout */
        body.two-column-layout .content {
            display: flex;
            max-width: 100%;
            padding: 20px;
            gap: 0;
            height: calc(100vh - 120px);
            overflow: hidden;
        }

        body.two-column-layout .passage-section {
            flex: 0 0 auto;
            width: var(--passage-width, 45%);
            min-width: 300px;
            max-width: 70%;
            margin-bottom: 0;
            overflow-y: auto;
            height: 100%;
            position: relative;
        }

        body.two-column-layout .questions-container {
            flex: 1;
            overflow-y: auto;
            height: 100%;
            padding-left: 20px;
        }

        /* Extend columns to bottom when header is hidden */
        body.header-collapsed.two-column-layout .content {
            height: calc(100vh - 40px);
        }

        body.header-collapsed.translation-layout .content {
            height: calc(100vh - 40px);
        }

        /* Resizer */
        .column-resizer {
            display: none;
            width: 6px;
            background: transparent;
            cursor: col-resize;
            position: relative;
            flex-shrink: 0;
        }

        body.two-column-layout .column-resizer {
            display: block;
        }

        .column-resizer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 100%;
            background: rgba(255,255,255,0.2);
            transition: background 0.2s ease;
        }

        .column-resizer:hover::after,
        .column-resizer.dragging::after {
            background: var(--accent-primary);
            width: 4px;
        }

        /* Resize handle in bottom-right corner */
        .resize-handle-corner {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            border-radius: var(--radius-sm);
            cursor: pointer;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.35);
        }

        body.two-column-layout .resize-handle-corner {
            display: flex;
        }

        .resize-handle-corner::before {
            content: 'â';
            color: white;
            font-size: 1.5em;
        }

        .resize-handle-corner:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Show resize handle only when hovering near bottom-right corner */
        .corner-trigger-zone {
            display: none;
            position: fixed;
            bottom: 0;
            right: 0;
            width: 100px;
            height: 100px;
            z-index: 999;
        }

        body.two-column-layout .corner-trigger-zone {
            display: block;
        }

        .corner-trigger-zone:hover + .resize-handle-corner,
        .resize-handle-corner:hover {
            opacity: 1;
        }

        .passage-section {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .passage-section::before {
            content: "";
            position: absolute;
            top: 0; left: 0; bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--accent-primary), var(--accent-purple));
        }

        .passage-section h2 {
            color: var(--accent-primary);
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: 700;
        }

        .passage-text {
            background: rgba(0,0,0,0.02);
            padding: 25px;
            border-radius: var(--radius-md);
            line-height: 2;
            font-size: 1.05em;
            color: var(--text-primary);
        }

        .paragraph {
            margin-bottom: 20px;
            text-align: justify;
            text-justify: inter-word;
            transition: background 0.2s ease, outline 0.2s ease;
            padding: 10px;
            border-radius: var(--radius-sm);
        }

        .para-label {
            font-weight: 700;
            color: var(--accent-primary);
            display: block;
            margin-bottom: 8px;
            text-align: left;
        }

        .underline {
            text-decoration: underline;
            text-decoration-color: var(--accent-red);
            text-underline-offset: 3px;
        }

        /* Dual-pane highlight linking */
        .paragraph.linked-highlight {
            outline: 3px solid rgba(249,115,22,0.9);
            background: rgba(255,237,213,0.9);
            border-radius: var(--radius-sm);
        }

        .question-section.linked-highlight {
            box-shadow: 0 0 0 3px rgba(249,115,22,0.7);
            transform: translateY(-1px);
        }

        .question-section {
            margin-bottom: 30px;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: box-shadow 0.2s ease, transform 0.2s ease;
            background: var(--card-bg);
        }

        .question-header {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-red) 100%);
            color: white;
            padding: 20px 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .question-header:hover {
            background: linear-gradient(135deg, var(--accent-red) 0%, var(--accent-purple) 100%);
        }

        .question-header h3 {
            font-size: 1.3em;
            font-weight: 600;
        }

        .toggle-icon {
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .question-header.active .toggle-icon {
            transform: rotate(180deg);
        }

        .question-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            background: white;
        }

        .question-content.active {
            max-height: 12000px;
        }

        .question-inner {
            padding: 25px;
            color: var(--text-primary);
        }

        .question-text {
            background: rgba(0,0,0,0.03);
            padding: 20px;
            border-radius: var(--radius-md);
            margin-bottom: 20px;
            border-left: 4px solid var(--accent-red);
            font-size: 1.1em;
        }

        .underline-ref {
            background: rgba(245, 158, 11, 0.1);
            padding: 15px 20px;
            border-radius: var(--radius-md);
            margin-bottom: 20px;
            border-left: 4px solid var(--accent-warm);
        }

        .choices {
            margin: 20px 0;
        }

        .choice {
            padding: 12px 20px;
            margin: 8px 0;
            background: rgba(0,0,0,0.03);
            border-radius: var(--radius-sm);
            border-left: 3px solid var(--text-secondary);
            transition: all 0.2s ease;
        }

        .choice:hover {
            background: rgba(0,0,0,0.06);
            transform: translateX(5px);
        }

        .show-hint-btn {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            color: var(--text-primary);
            border: none;
            padding: 15px 40px;
            border-radius: var(--radius-pill);
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 16px rgba(142, 197, 252, 0.4);
            margin: 20px 10px 20px 0;
            display: inline-block;
            font-family: inherit;
        }

        .show-hint-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(142, 197, 252, 0.6);
        }

        .show-answer-btn {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: var(--radius-pill);
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.35);
            margin: 20px 0;
            display: inline-block;
            font-family: inherit;
        }

        .show-answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5);
        }

        .hint-section, .answer-section {
            display: none;
            margin-top: 20px;
        }

        .hint-section.visible, .answer-section.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .box {
            padding: 20px;
            border-radius: var(--radius-md);
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }

        .correct-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.08) 100%);
            border-left: 4px solid var(--accent-green);
        }

        .strategy-box {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.08) 100%);
            border-left: 4px solid var(--accent-primary);
        }

        .hint-box {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(139, 92, 246, 0.08) 100%);
            border-left: 4px solid var(--accent-purple);
        }

        .context-box {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.08) 100%);
            border-left: 4px solid var(--accent-warm);
        }

        .passage-ref-box {
            background: rgba(0,0,0,0.04);
            border-left: 4px solid var(--text-secondary);
        }

        .incorrect-box {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.12) 0%, rgba(239, 68, 68, 0.06) 100%);
            border-left: 4px solid var(--accent-red);
        }

        .tip-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.12) 0%, rgba(59, 130, 246, 0.08) 100%);
            border-left: 4px solid #06b6d4;
        }

        .box-title {
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(0,0,0,0.08);
        }

        .highlight {
            background: linear-gradient(to bottom, transparent 60%, rgba(245, 158, 11, 0.4) 60%);
            padding: 0 3px;
        }

        .chart-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
            justify-content: center;
        }

        .chart-option {
            border: 2px solid rgba(0,0,0,0.08);
            border-radius: var(--radius-md);
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            background: rgba(0,0,0,0.02);
            width: 180px;
        }

        .chart-option:hover {
            border-color: var(--accent-primary);
            transform: scale(1.02);
        }

        .chart-option.correct {
            border-color: var(--accent-green);
            background: rgba(16, 185, 129, 0.1);
        }

        .chart-label {
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .chart-visual {
            height: 100px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 8px;
        }

        .bar {
            width: 30px;
            background: linear-gradient(to top, var(--accent-primary), var(--accent-purple));
            border-radius: 4px 4px 0 0;
        }

        .bar.actual { background: linear-gradient(to top, var(--accent-green), #34d399); }
        .bar.required { background: linear-gradient(to top, var(--accent-red), var(--accent-purple)); }

        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .header {
                margin: 0 0 16px 0;
                padding: 24px 20px;
            }

            body.two-column-layout .content {
                flex-direction: column;
                height: auto;
            }
            
            body.two-column-layout .passage-section,
            body.two-column-layout .questions-container {
                width: 100% !important;
                min-width: auto;
                max-width: none;
                height: auto;
            }

            body.two-column-layout .column-resizer {
                display: none;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .layout-trigger-zone,
            .header-trigger-zone {
                display: none;
            }

            .layout-toggle-btn,
            .header-collapse-btn {
                opacity: 1;
                pointer-events: auto;
                background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
                color: white;
                border: none;
                box-shadow: 0 4px 16px rgba(59, 130, 246, 0.35);
            }

            .layout-toggle-btn {
                right: 10px;
                top: 10px;
            }

            .header-collapse-btn {
                left: auto;
                right: 120px;
                transform: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ð° Chapter 18</h1>
            <p>The Paradox of Happiness<br>å¹¸ç¦ã®éèª¬</p>
        </div>

        <div class="header-trigger-zone"></div>
        <button class="header-collapse-btn" onclick="toggleHeader()">â² ãããã¼ãé ã</button>
        <div class="layout-trigger-zone"></div>
        <button class="layout-toggle-btn" onclick="toggleLayout()">ð± Two Columns</button>

        <div class="content">
            <div class="passage-section">
                <h2>ð æ¬æ (Passage)</h2>
                <div class="passage-text">
                    <div class="paragraph" id="para1" data-paragraph="1">
                        <div class="para-label">Paragraph 1:</div>
                        There is <span class="underline">(1)a paradox*</span> at the heart of our lives. Most people want more income and work hard for it. Yet, as Western societies have got richer, their people have become no happier. This is no old wives' tale. It is a fact proven by many pieces of scientific research. As I'll show, we have good ways to measure how happy people are, and all the evidence says that on average people are no happier today than people were fifty years ago. At the same time, however, average incomes have doubled. This paradox is equally true for the United States, Britain and Japan.
                    </div>

                    <div class="paragraph" id="para2" data-paragraph="2">
                        <div class="para-label">Paragraph 2:</div>
                        But aren't our lives infinitely more comfortable? Indeed: we have more food, more clothes, more cars, more holidays and, above all, better health. Yet we are not happier. Despite all the efforts of governments, teachers and doctors which have improved our lives, human happiness has not increased. Suppose you were asked to choose between living in two imaginary worlds, in which prices were the same. In the first of these worlds you would get $50,000 a year, compared with an average income of $25,000. In the second of these worlds you would get $100,000 a year, compared with an average income of $250,000. Which do you choose? This question was put to a group of Harvard students and <span class="underline">(2)the majority preferred the first type of world</span>. They were happy to be poorer, if their relative position improved. People care greatly about their relative income, and they would be willing to accept a significant fall as long as they could improve their position in relation to other people.
                    </div>

                    <div class="paragraph" id="para3" data-paragraph="3">
                        <div class="para-label">Paragraph 3:</div>
                        People also compare their income with what they themselves are used to. When they are asked how much income they need, richer people always say they need more than poorer people. So <span class="underline">(3)whether you are happy with your income depends on how it compares with some standard</span>. And that standard depends on two things: what other people get and what you yourself are accustomed to getting. In the first case your feelings are governed by social comparison, and in the second by your ability to get used to things.
                    </div>

                    <div class="paragraph" id="para4" data-paragraph="4">
                        <div class="para-label">Paragraph 4:</div>
                        Because these two forces are so strong in human nature, it is quite difficult for economic growth to improve our happiness. The reason for this is that as actual incomes rise, the standard by which income is judged rises in step. You can see this from data collected by the Gallup Poll* in the United States over many years. People were asked, "What is the smallest amount of money a family of four needs to get along reasonably well in this community?" <span class="underline">(4)The chart shows how much money people thought they needed to live comfortably â that is, their "required income," and how much money they actually earn â that is, their "actual income."</span> According to the chart, as people's actual income increases, the amount of money they say they need also increases. So even though people become richer, they are never satisfied. They never say, "I earn much more than I need, so I am happy." They simply feel that they need more money to be happy. This explains why people become no happier even when their standard of living improves.
                    </div>

                    <div class="paragraph" id="para5" data-paragraph="5">
                        <div class="para-label">Paragraph 5:</div>
                        These facts are truly depressing, because they mean that <span class="underline">(5)we cannot be happier however much money we might get</span>. But at the same time, they teach us a useful lesson: financial success is not always necessary for your happiness, and to find another aspect of life that satisfies you is an easier way of becoming happy.
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.03); border-radius: 10px; font-size: 0.95em; border-left: 4px solid var(--accent-warm);">
                        <strong>* æ³¨é:</strong><br>
                        paradoxãéèª¬ã<br>
                        Gallup Pollãã®ã£ã©ããèª¿æ»ã(ä¸è«èª¿æ»ã®ä¸ç¨®)
                    </div>
                </div>
            </div>

            <div class="column-resizer" id="columnResizer"></div>

            <div class="translation-section">
                <h2>ð å¨è¨³ (Full Translation)</h2>
                <div class="translation-text">
                    <div class="translation-paragraph" id="trans1" data-paragraph="1">
                        <div class="trans-label">ç¬¬1æ®µè½:</div>
                        ç§ãã¡ã®äººçã®ä¸­å¿ã«ã¯1ã¤ã®éèª¬ããããã»ã¨ãã©ã®äººã¯ãããå¤ãã®åå¥ãæ±ãããã®ããã«ä¸çæ¸å½ã«åããããããè¥¿æ´ç¤¾ä¼ãè±ãã«ãªã£ã¦ãããã®ç¤¾ä¼ã®äººãã¯ä»¥åããã¾ã£ããå¹¸ãã«ãªã£ã¦ã¯ããªãã®ã ãããã¯è¿·ä¿¡ãªã©ã§ã¯ãªããããã¯ãå¤ãã®ç§å­¦çç ç©¶ã«ãã£ã¦è¨¼æãããäºå®ã§ãããããããæããã«ããããã«ãäººãã©ããããå¹¸ç¦ã§ããããè¨ãæ¹æ³ã¯ååã«ããããã¹ã¦ã®è¨¼æ ããå¹³åãã¦ä»æ¥ã®äººãã50å¹´åã®äººãããã¾ã£ããå¹¸ç¦ã«ãªã£ã¦ããªããã¨ãä¼ãã¦ãããããããåæã«ãå¹³ååå¥ã¯2åã«ãªã£ã¦ããããã®éèª¬ã¯ãã¢ã¡ãªã«ãã¤ã®ãªã¹ãæ¥æ¬ã«ç­ããå½ã¦ã¯ã¾ããã¨ã§ããã
                    </div>

                    <div class="translation-paragraph" id="trans2" data-paragraph="2">
                        <div class="trans-label">ç¬¬2æ®µè½:</div>
                        ããããç§ãã¡ã®çæ´»ã¯ã¯ããã«ãã£ã¨å¿«é©ã«ãªã£ã¦ããã®ã§ã¯ãªãã ããããç¢ºãã«ä»¥åããç§ãã¡ã¯é£ã¹ç©ãæãè»ãä¼æ¥ãå¢ããä½ãããå¥åº·ã«ãªã£ã¦ããããããç§ãã¡ã¯ããå¹¸ãã«ãªã£ã¦ããªããç§ãã¡ã®çæ´»ãåä¸ããã¦ããæ¿åºãæå¸«ãå»å¸«ãã¡ã®ãã¹ã¦ã®åªåã«ããããããäººéã®å¹¸ãã¯å¢å ãã¦ããªããä»®ã«æ¶ç©ºã®2ã¤ã®ä¸çã®ã©ã¡ãã«ä½ãããé¸ã¶ããã«è³ªåãããã¨ããããããã¦ããã§ã¯ç©ä¾¡ã¯åãã§ãããç¬¬1ã®ä¸çã§ã¯ãå¹³åå¹´åã2ä¸5åãã«ã§ããã®ã«å¯¾ãå¹´ã«5ä¸ãã«ã®ãéããããããç¬¬2ã®ä¸çã§ã¯ãå¹³åå¹´åã25ä¸ãã«ã§ããã®ã«å¯¾ãã¦å¹´ã«10ä¸ãã«ããããããã©ã¡ããé¸ã¶ã ãããããã®è³ªåã¯ãã¼ãã¼ãå¤§å­¦ã®å­¦çéå£ã«å¯¾ãã¦è¡ãªããããããã¨ãå­¦çã®å¤§å¤æ°ã¯ç¬¬1ã®ä¸çãé¸ãã ãå½¼ãã¯ãç¸å¯¾çãªå°ä½ãåä¸ãããªãããè²§ããã¦ãå¹¸ãã ã¨ããã®ã ãäººã¯ç¸å¯¾çãªåå¥ã¨ãããã®ãéå¸¸ã«æ°ã«ããä»ã®äººãã¨æ¯ã¹ã¦èªåã®å°ä½ãåä¸ãããªãåå¥ã®ããªãã®æ¸å°ãé²ãã§åãå¥ãããã¨ããã®ã ããã
                    </div>

                    <div class="translation-paragraph" id="trans3" data-paragraph="3">
                        <div class="trans-label">ç¬¬3æ®µè½:</div>
                        äººã¯ã¾ããèªåã®åå¥ãèªåèªèº«ãæ£ãè¦ªããã§ãããã®ã¨æ¯è¼ãããã©ããããã®åå¥ãå¿è¦ã§ãããã¨åãããããè±ããªäººã¯å¿ããè²§ããäººãããå¤ãã®åå¥ãå¿è¦ã ã¨è¨ããã ãããèªåã®åå¥ã«æºè¶³ãããã©ããã¯ããã®åå¥ãããåºæºã«ã©ã®ããã«å¹æµãããã§æ±ºã¾ãã®ã§ãããããã¦ããã®åºæºã¯ã2ã¤ã®ãã¨ã§æ±ºã¾ããã¤ã¾ããä»ã®äººããæã«ãã¦ããåå¥ã¨ãèªåèªèº«ãæã«ãããã¨ã«æ£ãã¦ããåå¥ã§ãããç¬¬1ã®å ´åã§ã¯ãããªãã®æ°æã¡ã¯ç¤¾ä¼çãªæ¯è¼ã«ãã£ã¦æ¯éãããç¬¬2ã®å ´åã§ã¯ãç©äºã«æ£ããè½åã«ãã£ã¦æ¯éãããã
                    </div>

                    <div class="translation-paragraph" id="trans4" data-paragraph="4">
                        <div class="trans-label">ç¬¬4æ®µè½:</div>
                        ãã®2ã¤ã®åã¯äººéã®æ§è³ªã«ããã¦éå¸¸ã«å¼·ããã®ãªã®ã§ãçµæ¸çãªæé·ãç§ãã¡ã®å¹¸ç¦ãåä¸ããããã¨ã¯éå¸¸ã«é£ããããã®çç±ã¯ãå®éã®åå¥ãå¢ããã«ã¤ãåå¥ãå¤æ­ããåºæºãããã«åããã¦ä¸åãããã§ããããã®ãã¨ã¯é·å¹´ã«ããã£ã¦ã¢ã¡ãªã«ã®ã®ã£ã©ããèª¿æ»ãéãããã¼ã¿ããããããäººãã¯æ¬¡ã®è³ªåãåãããã4äººå®¶æããã®ç¤¾ä¼ã®ä¸­ã§ã¾ãã¾ããã£ã¦ããã®ã«å¿è¦ãªæä½éã®éé¡ã¯ããããããå³è¡¨ã¯ãå¿«é©ã«æ®ããããã«ã©ããããã®éé¡ãå¿è¦ã ã¨äººããæã£ããï¼ã¤ã¾ããå¿è¦ã¨ãããåå¥ãï¼ã¨ãå½¼ããå®éã©ããããã®éé¡ãç¨¼ãã§ãããï¼ã¤ã¾ãããå®éã®åå¥ãï¼ãç¤ºãã¦ãããå³è¡¨ã«ããã°ãäººãã®å®éã®åå¥ãå¢ããã«ã¤ããå¿è¦ã ã¨å½¼ããè¨ãéé¡ãå¢ãã¦ãããã ãããäººã¯è±ãã«ãªã£ã¦ãæ±ºãã¦æºè¶³ã¯ããªãã®ã§ãããäººã¯ãç§ã¯å¿è¦ä»¥ä¸ã®ãéãç¨¼ãã§ããã®ã§ãå¹¸ãã ãã¨ã¯æ±ºãã¦è¨ããªããå¹¸ãã«ãªãããã«ã¯ãã£ã¨ãéãå¿è¦ã ã¨æããã ãã§ããããã®ãã¨ãããã¨ãäººãã®çæ´»æ°´æºãä¸ãã£ã¦ããäººãããªãããå¹¸ç¦ã«ãªããªãããèª¬æãã¦ããã
                    </div>

                    <div class="translation-paragraph" id="trans5" data-paragraph="5">
                        <div class="trans-label">ç¬¬5æ®µè½:</div>
                        ãããã®äºå®ã¯æ¬å½ã«æ°ãæ»å¥ããã®ã§ããããªããªããã©ãã ãããããã®ãéãæã«ãã¦ããç§ãã¡ã¯ããå¹¸ãã«ãªããã¨ãã§ããªãã¨ãããã¨ãæå³ããããã ããããåæã«ããããã¯ç§ãã¡ã«1ã¤ã®æç¨ãªæè¨ãä¼ãã¦ããããã¤ã¾ããçµæ¸çãªæåã¯å¿ãããå¹¸ç¦ã«ã¨ã£ã¦å¿è¦ã§ã¯ãªããã¨ãããã¦ãèªåãæºè¶³ãããäººçã®å¥ã®é¢ãçºè¦ãããã¨ã®æ¹ããå¹¸ãã«ãªãç°¡åãªæ¹æ³ã§ããã¨ãããã¨ã§ããã
                    </div>
                </div>
            </div>

            <div class="questions-container">
                <!-- Question 1 -->
                <div class="question-section" data-target-paragraphs="1">
                    <div class="question-header" onclick="toggleQuestion('q1')">
                        <h3>åé¡ 1: æ¥æ¬èªèª¬æåé¡ (Content Explanation)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q1" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong> ç¬¬1æ®µè½ã®åå®¹ãè¸ã¾ãã¦ãä¸ç·é¨ï¼1ï¼ã® a paradox ã®å·ä½çãªåå®¹ãæ¥æ¬èªã§ç°¡æ½ã«ç­ããªããã
                            </div>

                            <div class="underline-ref">
                                <strong>ä¸ç·é¨:</strong> There is <span class="highlight">(1)a paradox</span> at the heart of our lives.
                            </div>

                            <button class="show-hint-btn" onclick="showHint('hint1')">Show Hint / ãã³ããè¦ã</button>
                            <button class="show-answer-btn" onclick="showAnswer('answer1')">Show Answer / è§£ç­ãè¦ã</button>

                            <div id="hint1" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã(Hint)</div>
                                    <strong>èãæ¹ã®ãã³ã:</strong><br>
                                    â "paradox"ï¼éèª¬ï¼ã¨ã¯ä½ãï¼ â <strong>çç¾ãã2ã¤ã®äºå®ãåæã«æãç«ã¤ãã¨</strong><br>
                                    â ç¬¬1æ®µè½ãããå¯¾ç§çãª2ã¤ã®äºå®ããæ¢ããï¼<br>
                                    â ã­ã¼ã¯ã¼ã: "Yet" (ããã) â ãã®åå¾ã«çç¾ãããï¼<br>
                                    â "average incomes have doubled" ã¨ "no happier" ã®å¯¾æ¯ã«æ³¨ç®ï¼<br><br>
                                    
                                    <strong>ã©ããèª­ã?</strong> â Paragraph 1 ã®ç¬¬6æãç¬¬7æ
                                </div>
                            </div>

                            <div id="answer1" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    <strong>50å¹´åã¨æ¯ã¹ãå¹³ååå¥ã¯2åã«ãªã£ã¦ããã®ã«ãäººãã¯ããå¹¸ãã«ãªã£ã¦ããªããã¨ã</strong>
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼(Reading Strategy)</div>
                                    <strong>ãéèª¬ãåé¡ã®è§£ãæ¹:</strong><br>
                                    1. "paradox" = çç¾ãéèª¬ â <strong>ãAãªã®ã«Bã</strong>ã¨ããæ§é ãæ¢ã<br>
                                    2. æ¥ç¶è© "Yet" ã "however" ã®åå¾ããã§ãã¯<br>
                                    3. å¯¾æ¯ããã2ã¤ã®äºå®ãç¹å®ãã<br>
                                    4. ãããªã®ã«ããã¨ããå½¢ã§ç­ããã¾ã¨ãã
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð æ¬æããã®è¨¼æ  (Paragraph 1)</div>
                                    <strong>äºå®A (åå¥ã®å¢å ):</strong><br>
                                    "<span class="highlight">average incomes have doubled</span>"<br>
                                    = å¹³ååå¥ã¯2åã«ãªã£ã<br><br>
                                    
                                    <strong>äºå®B (å¹¸ç¦åº¦ã¯å¤ããã):</strong><br>
                                    "on average <span class="highlight">people are no happier today</span> than people were fifty years ago"<br>
                                    = å¹³åãã¦ä»æ¥ã®äººãã¯50å¹´åã®äººãããå¹¸ç¦ã«ãªã£ã¦ããªã<br><br>
                                    
                                    â <strong>åå¥ã¯2åã«ãªã£ãã®ã«å¹¸ç¦åº¦ã¯å¤ãããªã = éèª¬!</strong>
                                </div>

                                <div class="box tip-box">
                                    <div class="box-title">âï¸ Tips(ã³ã)</div>
                                    â "paradox" = ãéèª¬ãâ <strong>ãããªã®ã«ãã</strong>ã®æ§é ã§ç­ãã<br>
                                    â å¿ã<strong>å¯¾æ¯ããã2ã¤ã®è¦ç´ </strong>ãå«ãã<br>
                                    â æ°å¤æå ±ï¼50å¹´ã2åï¼ãããã°å«ããã¨å·ä½çã«ãªã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-section" data-target-paragraphs="2">
                    <div class="question-header" onclick="toggleQuestion('q2')">
                        <h3>åé¡ 2: çç±èª¬æåé¡ (Reason Explanation)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q2" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong> ä¸ç·é¨ï¼2ï¼ã«ã¤ãã¦ããªããã®ãããªçµæã«ãªã£ãã®ããæ¥æ¬èªã§èª¬æããªããã
                            </div>

                            <div class="underline-ref">
                                <strong>ä¸ç·é¨:</strong> <span class="highlight">(2)the majority preferred the first type of world</span><br>
                                ï¼å¤§å¤æ°ã¯ç¬¬1ã®ä¸çãé¸ãã ï¼
                            </div>

                            <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin: 15px 0;">
                                <strong>ð 2ã¤ã®ä¸çã®æ¯è¼:</strong><br>
                                <table style="width: 100%; margin-top: 10px; border-collapse: collapse;">
                                    <tr style="background: #667eea; color: white;">
                                        <th style="padding: 10px; border: 1px solid #ddd;"></th>
                                        <th style="padding: 10px; border: 1px solid #ddd;">ããªãã®åå¥</th>
                                        <th style="padding: 10px; border: 1px solid #ddd;">å¹³ååå¥</th>
                                        <th style="padding: 10px; border: 1px solid #ddd;">ç¸å¯¾çå°ä½</th>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold;">ç¬¬1ã®ä¸ç â­</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">$50,000</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">$25,000</td>
                                        <td style="padding: 10px; border: 1px solid #ddd; color: #28a745; font-weight: bold;">å¹³åã®2å!</td>
                                    </tr>
                                    <tr style="background: #f8f9fa;">
                                        <td style="padding: 10px; border: 1px solid #ddd; font-weight: bold;">ç¬¬2ã®ä¸ç</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">$100,000</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">$250,000</td>
                                        <td style="padding: 10px; border: 1px solid #ddd; color: #dc3545; font-weight: bold;">å¹³åä»¥ä¸...</td>
                                    </tr>
                                </table>
                            </div>

                            <button class="show-hint-btn" onclick="showHint('hint2')">Show Hint / ãã³ããè¦ã</button>
                            <button class="show-answer-btn" onclick="showAnswer('answer2')">Show Answer / è§£ç­ãè¦ã</button>

                            <div id="hint2" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã(Hint)</div>
                                    <strong>èãæ¹ã®ãã³ã:</strong><br>
                                    â ç¬¬1ã®ä¸ç: åå¥$50,000ï¼å¹³å$25,000ã®<strong>2å</strong>ï¼<br>
                                    â ç¬¬2ã®ä¸ç: åå¥$100,000ï¼å¹³å$250,000ã®<strong>ååä»¥ä¸</strong>ï¼<br>
                                    â çµ¶å¯¾çãªéé¡ vs ç¸å¯¾çãªå°ä½ â ã©ã¡ããéè¦ããï¼<br>
                                    â "if their relative position improved" ããã³ãï¼<br><br>
                                    
                                    <strong>ã­ã¼ã¯ã¼ã:</strong> relative position = ç¸å¯¾çãªå°ä½
                                </div>
                            </div>

                            <div id="answer2" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    <strong>ç¸å¯¾çãªå°ä½ãåä¸ããã®ãªããããè²§ããã¦ãå¹¸ãã ã¨æã£ãããã</strong>
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼(Reading Strategy)</div>
                                    <strong>çç±èª¬æåé¡ã®è§£ãæ¹:</strong><br>
                                    1. ä¸ç·é¨ã®<strong>ç´å¾</strong>ãç¢ºèªããï¼çç±ã¯ç´å¾ã«æ¸ããããã¨ãå¤ãï¼<br>
                                    2. "because", "if", "as long as" ãªã©ã®çç±ãç¤ºãæ¥ç¶è©ãæ¢ã<br>
                                    3. ä¸ç·é¨ã®çµæã¨çç±ã®<strong>å æé¢ä¿</strong>ãæç¢ºã«ãã<br>
                                    4. ããããããããããã§çµããå½¢ã§ç­ãã
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð æ¬æããã®è¨¼æ  (Paragraph 2)</div>
                                    "They were <span class="highlight">happy to be poorer</span>, <span class="highlight">if their relative position improved</span>."<br><br>
                                    
                                    è¨³: å½¼ãã¯ã<strong>ç¸å¯¾çãªå°ä½ãåä¸ãããªã</strong>ãããè²§ããã¦ã<strong>å¹¸ãã </strong>ã¨ããã®ã ã<br><br>
                                    
                                    â ç¬¬1ã®ä¸çã§ã¯å¹³åããè£ç¦ï¼ç¸å¯¾çå°ä½ãé«ãï¼<br>
                                    â ç¬¬2ã®ä¸çã§ã¯å¹³åããè²§ããï¼ç¸å¯¾çå°ä½ãä½ãï¼<br>
                                    â <strong>çµ¶å¯¾çãªéé¡ããç¸å¯¾çãªå°ä½ãéè¦!</strong>
                                </div>

                                <div class="box context-box">
                                    <div class="box-title">ð¡ è£è¶³èª¬æ</div>
                                    <strong>ãªãäººã¯ç¸å¯¾çãªå°ä½ãæ°ã«ããã®ã?</strong><br><br>
                                    
                                    æ¬æã«ã¯ "People care greatly about their <span class="highlight">relative income</span>" ã¨ããã<br>
                                    = äººãã¯ç¸å¯¾çãªåå¥ãéå¸¸ã«æ°ã«ãã<br><br>
                                    
                                    ã¤ã¾ãããèªåããããç¨¼ãã§ããããããããå¨ãã¨æ¯ã¹ã¦ã©ããããå¹¸ç¦æã«å½±é¿ããã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question-section" data-target-paragraphs="3">
                    <div class="question-header" onclick="toggleQuestion('q3')">
                        <h3>åé¡ 3: åè¨³åé¡ (Translation)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q3" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong> ä¸ç·é¨ï¼3ï¼ãåè¨³ããªããã
                            </div>

                            <div class="underline-ref">
                                <strong>ä¸ç·é¨:</strong><br>
                                <span class="highlight">(3) whether you are happy with your income depends on how it compares with some standard</span>
                            </div>

                            <button class="show-hint-btn" onclick="showHint('hint3')">Show Hint / ãã³ããè¦ã</button>
                            <button class="show-answer-btn" onclick="showAnswer('answer3')">Show Answer / è§£ç­ãè¦ã</button>

                            <div id="hint3" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã(Hint)</div>
                                    <strong>æ§æåæã®ãã³ã:</strong><br>
                                    â <strong>whether ~ income</strong> = åè©ç¯ï¼ä¸»èªï¼<br>
                                    â <strong>depends on</strong> = ãã§æ±ºã¾ãããã«ãã<br>
                                    â <strong>how it compares with ~</strong> = ããããã«ã©ã®ããã«å¹æµããã<br><br>
                                    
                                    <strong>èªå¥:</strong><br>
                                    â¢ be happy with ~ = ãã«æºè¶³ãã<br>
                                    â¢ depend on ~ = ãã§æ±ºã¾ã<br>
                                    â¢ compare with ~ = ãã«å¹æµããããã¨æ¯è¼ããã<br>
                                    â¢ standard = åºæº
                                </div>
                            </div>

                            <div id="answer3" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    <strong>èªåã®åå¥ã«æºè¶³ãããã©ããã¯ããã®åå¥ãããåºæºã«ã©ã®ããã«å¹æµãããã§æ±ºã¾ãã®ã§ããã</strong>
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ åè¨³ã®ã¹ããã</div>
                                    <strong>1. æã®æ§é ãææ¡:</strong><br>
                                    [whetherç¯ (ä¸»èª)] + depends on + [howç¯ (ç®çèª)]<br><br>
                                    
                                    <strong>2. whetherç¯ï¼ä¸»èªï¼:</strong><br>
                                    "whether you are happy with your income"<br>
                                    = ããªããèªåã®åå¥ã«æºè¶³ãããã©ãã<br><br>
                                    
                                    <strong>3. è¿°èª:</strong><br>
                                    "depends on" = ãã§æ±ºã¾ã<br><br>
                                    
                                    <strong>4. howç¯ï¼ç®çèªï¼:</strong><br>
                                    "how it compares with some standard"<br>
                                    = ããï¼åå¥ï¼ãããåºæºã«ã©ã®ããã«å¹æµããã
                                </div>

                                <div class="box tip-box">
                                    <div class="box-title">âï¸ Tips(ã³ã)</div>
                                    â <strong>whetherç¯</strong>ãä¸»èªã®å ´åãããã©ããã¯ãã¨è¨³ã<br>
                                    â <strong>depend on</strong> ã¯ããã§æ±ºã¾ããããã«ããããèªç¶<br>
                                    â <strong>compare with</strong> ã¯ããã¨æ¯è¼ãããã¾ãã¯ããã«å¹æµããã<br>
                                    â ä»£åè© "it" ãä½ãæããæç¢ºã«ããï¼ããã§ã¯ "your income"ï¼
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="question-section" data-target-paragraphs="4">
                    <div class="question-header" onclick="toggleQuestion('q4')">
                        <h3>åé¡ 4: å³è¡¨é¸æåé¡ (Chart Selection)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q4" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong> ä¸ç·é¨ï¼4ï¼ãæãå³è¡¨ã¨ãã¦æãé©åãªãã®ãæ¬¡ã®ä¸­ããé¸ã³ãªããã(ç²åå¤§)
                            </div>

                            <div class="underline-ref">
                                <strong>ä¸ç·é¨:</strong><br>
                                (4) The chart shows how much money people thought they needed to live comfortably â that is, their "required income," and how much money they actually earn â that is, their "actual income."
                            </div>

                            <div class="chart-container">
                                <div class="chart-option" id="chartA">
                                    <div class="chart-label">A</div>
                                    <div class="chart-visual">
                                        <div class="bar required" style="height: 50px;"></div>
                                        <div class="bar actual" style="height: 80px;"></div>
                                    </div>
                                    <div style="font-size: 0.8em; margin-top: 10px;">
                                        <span style="color: #f5576c;">Required</span> < <span style="color: #28a745;">Actual</span><br>
                                        (å¿è¦ < å®é)
                                    </div>
                                </div>
                                
                                <div class="chart-option" id="chartB">
                                    <div class="chart-label">B</div>
                                    <div class="chart-visual">
                                        <div class="bar required" style="height: 70px;"></div>
                                        <div class="bar actual" style="height: 70px;"></div>
                                    </div>
                                    <div style="font-size: 0.8em; margin-top: 10px;">
                                        <span style="color: #f5576c;">Required</span> = <span style="color: #28a745;">Actual</span><br>
                                        (å¿è¦ = å®é)
                                    </div>
                                </div>
                                
                                <div class="chart-option" id="chartC">
                                    <div class="chart-label">C</div>
                                    <div class="chart-visual">
                                        <div class="bar required" style="height: 85px;"></div>
                                        <div class="bar actual" style="height: 60px;"></div>
                                    </div>
                                    <div style="font-size: 0.8em; margin-top: 10px;">
                                        <span style="color: #f5576c;">Required</span> > <span style="color: #28a745;">Actual</span><br>
                                        (å¿è¦ > å®é)
                                    </div>
                                </div>
                                
                                <div class="chart-option" id="chartD">
                                    <div class="chart-label">D</div>
                                    <div class="chart-visual">
                                        <div class="bar actual" style="height: 90px;"></div>
                                        <div class="bar required" style="height: 30px;"></div>
                                    </div>
                                    <div style="font-size: 0.8em; margin-top: 10px;">
                                        <span style="color: #28a745;">Actual</span> >> <span style="color: #f5576c;">Required</span><br>
                                        (å®é >> å¿è¦)
                                    </div>
                                </div>
                            </div>

                            <button class="show-hint-btn" onclick="showHint('hint4')">Show Hint / ãã³ããè¦ã</button>
                            <button class="show-answer-btn" onclick="showAnswer('answer4')">Show Answer / è§£ç­ãè¦ã</button>

                            <div id="hint4" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã(Hint)</div>
                                    <strong>èãæ¹ã®ãã³ã:</strong><br>
                                    â ä¸ç·é¨(4)ã®<strong>ç´å¾</strong>ã«å³è¡¨ã®èª¬æãããï¼<br>
                                    â "According to the chart" ããå§ã¾ãæãèª­ãã<br>
                                    â ã­ã¼ãã¤ã³ã:<br>
                                    ãâ¢ "as people's actual income increases..."<br>
                                    ãâ¢ "the amount of money they say they need also increases"<br>
                                    â ä¸¡æ¹ã¨ãå¢ããããã©ã¡ãã®æ¹ãå¤§ããï¼<br><br>
                                    
                                    <strong>è¿½å ãã³ã:</strong> "they are never satisfied" (å½¼ãã¯æ±ºãã¦æºè¶³ããªã) â å¸¸ã«ããã£ã¨æ¬²ãããã¨æããï¼
                                </div>
                            </div>

                            <div id="answer4" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£: C</div>
                                    <strong>å¿è¦ã¨ããåå¥ (Required) > å®éã®åå¥ (Actual)</strong><br><br>
                                    äººãã¯å¸¸ã«ãä»æã£ã¦ãããéããå¤ãã®ãéãå¿è¦ã ãã¨æãã¦ããã
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼(Reading Strategy)</div>
                                    <strong>å³è¡¨åé¡ã®è§£ãæ¹:</strong><br>
                                    1. å³è¡¨ã«é¢ãã<strong>èª¬ææ</strong>ãæ¬æããæ¢ã<br>
                                    2. "According to the chart" ãªã©ã®è¡¨ç¾ã«æ³¨ç®<br>
                                    3. å·ä½çãª<strong>æ°å¤é¢ä¿</strong>ï¼å¤§å°ãå¢æ¸ï¼ãç¢ºèª<br>
                                    4. æ¬æã®è«æ¨ã¨ä¸è´ããå³è¡¨ãé¸ã¶
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð æ¬æããã®è¨¼æ  (Paragraph 4)</div>
                                    <strong>è¨¼æ 1:</strong><br>
                                    "So <span class="highlight">even though people become richer, they are never satisfied</span>."<br>
                                    = ã ãããäººã¯è±ãã«ãªã£ã¦ã<strong>æ±ºãã¦æºè¶³ã¯ããªã</strong><br><br>
                                    
                                    <strong>è¨¼æ 2:</strong><br>
                                    "They never say, '<span class="highlight">I earn much more than I need</span>, so I am happy.'"<br>
                                    = å½¼ãã¯ãç§ã¯å¿è¦ä»¥ä¸ã®ãéãç¨¼ãã§ãããã¨ã¯<strong>æ±ºãã¦è¨ããªã</strong><br><br>
                                    
                                    <strong>è¨¼æ 3:</strong><br>
                                    "They simply feel that <span class="highlight">they need more money</span> to be happy."<br>
                                    = å½¼ãã¯å¹¸ãã«ãªãããã«ã¯<strong>ãã£ã¨ãéãå¿è¦</strong>ã ã¨æããã ã<br><br>
                                    
                                    â <strong>å¸¸ã«ãå¿è¦ãªåå¥ > å®éã®åå¥ã!</strong>
                                </div>

                                <div class="box incorrect-box">
                                    <div class="box-title">â ãªãAã»Bã»Dãä¸æ­£è§£ã</div>
                                    <strong>A (å¿è¦ < å®é):</strong><br>
                                    â ããã ã¨ãç¨¼ãã§ããé¡ > å¿è¦ãªé¡ãã¨ãªããäººãã¯æºè¶³ããã¯ãã<br>
                                    â æ¬æ: "they are <strong>never satisfied</strong>" ã¨çç¾!<br><br>
                                    
                                    <strong>B (å¿è¦ = å®é):</strong><br>
                                    â ããã ã¨å¿è¦ãªåã ãç¨¼ãã§ãããã¨ã«ãªãã<br>
                                    â æ¬æ: "They simply feel that <strong>they need more money</strong>" ã¨çç¾!<br><br>
                                    
                                    <strong>D (å®é >> å¿è¦):</strong><br>
                                    â Aã¨åæ§ãå¤§å¹ã«ä½è£ããããã¨ã«ãªãã<br>
                                    â æ¬æã®ãæºè¶³ããªããããã£ã¨æ¬²ãããã¨ããè«æ¨ã¨çç¾!
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="question-section" data-target-paragraphs="5">
                    <div class="question-header" onclick="toggleQuestion('q5')">
                        <h3>åé¡ 5: åè¨³åé¡ (Translation)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q5" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong> ä¸ç·é¨ï¼5ï¼ãåè¨³ããªããã
                            </div>

                            <div class="underline-ref">
                                <strong>ä¸ç·é¨:</strong><br>
                                <span class="highlight">(5) we cannot be happier however much money we might get</span>
                            </div>

                            <button class="show-hint-btn" onclick="showHint('hint5')">Show Hint / ãã³ããè¦ã</button>
                            <button class="show-answer-btn" onclick="showAnswer('answer5')">Show Answer / è§£ç­ãè¦ã</button>

                            <div id="hint5" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã(Hint)</div>
                                    <strong>æ§æåæã®ãã³ã:</strong><br>
                                    â <strong>however + å½¢å®¹è©/å¯è© + S + V</strong> = ãã©ãã ãããã¦ããï¼è­²æ­©ï¼<br>
                                    â however much = ã©ãã ãããããããã¦ã<br>
                                    â might = ä»®å®æ³ï¼ããããããªãï¼<br><br>
                                    
                                    <strong>ææ§é :</strong><br>
                                    â¢ ä¸»ç¯: we cannot be happier<br>
                                    â¢ å¾å±ç¯: however much money we might get
                                </div>
                            </div>

                            <div id="answer5" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£</div>
                                    <strong>ã©ãã ãããããã®ãéãæã«ãã¦ããç§ãã¡ã¯ããå¹¸ãã«ãªããã¨ãã§ããªãã</strong>
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ åè¨³ã®ã¹ããã</div>
                                    <strong>1. æã®æ§é ãææ¡:</strong><br>
                                    [ä¸»ç¯] + [howeverç¯ (è­²æ­©)]<br><br>
                                    
                                    <strong>2. ä¸»ç¯:</strong><br>
                                    "we cannot be happier"<br>
                                    = ç§ãã¡ã¯ããå¹¸ãã«ãªããã¨ãã§ããªã<br><br>
                                    
                                    <strong>3. å¾å±ç¯ (è­²æ­©):</strong><br>
                                    "however much money we might get"<br>
                                    = ã©ãã ãããããã®ãéãæã«ãã¦ã<br><br>
                                    
                                    <strong>4. çµã¿ç«ã¦:</strong><br>
                                    è­²æ­©ç¯ãåã«è¨³ãã¨èªç¶ â ãã©ãã ãããã¦ãããã§ããªãã
                                </div>

                                <div class="box context-box">
                                    <div class="box-title">ð¡ ææ³ãã¤ã³ã: however ã®è­²æ­©ç¨æ³</div>
                                    <strong>however + å½¢å®¹è©/å¯è© + S + V</strong><br>
                                    = ãã©ãã ãããã¦ããããããããã¦ãã<br><br>
                                    
                                    <strong>ä¾æ:</strong><br>
                                    â¢ However hard you try, you can't do it.<br>
                                    ã(ã©ãã ãä¸çæ¸å½ãã£ã¦ããããã¯ã§ããªã)<br>
                                    â¢ However fast he runs, he won't catch the train.<br>
                                    ã(ã©ãã ãéãèµ°ã£ã¦ããé»è»ã«éã«åããªã)<br><br>
                                    
                                    â» "no matter how" ã¨åãæå³
                                </div>

                                <div class="box tip-box">
                                    <div class="box-title">âï¸ Tips(ã³ã)</div>
                                    â <strong>however + å½¢å®¹è©/å¯è©</strong> = ãã©ãã ãããã¦ãã<br>
                                    â è­²æ­©ç¯ã¯<strong>åã«è¨³ã</strong>ã¨æ¥æ¬èªã¨ãã¦èªç¶<br>
                                    â might ã¯ä»®å®ã®ãã¥ã¢ã³ã¹ãåºãï¼ããããããªããã©ï¼<br>
                                    â ãããå¹¸ãã«ãªããªããã¯ãå¹¸ç¦åº¦ã¯ä¸ãããªããã§ãOK
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 6 -->
                <div class="question-section" data-target-paragraphs="1,2,3,4,5">
                    <div class="question-header" onclick="toggleQuestion('q6')">
                        <h3>åé¡ 6: åå®¹ä¸è´åé¡ (Content Match)</h3>
                        <span class="toggle-icon">â¼</span>
                    </div>
                    <div id="q6" class="question-content">
                        <div class="question-inner">
                            <div class="question-text">
                                <strong>Question:</strong> æ¬æã®åå®¹ã¨ä¸è´ãããã®ã<strong>2ã¤</strong>é¸ã³ãªããã(ç²åå¤§)
                            </div>

                            <div class="choices">
                                <div class="choice">â  It is hard to say that we are happier than people were 50 years ago.</div>
                                <div class="choice">â¡ We don't feel happier than we did 50 years ago because our standard of living has not improved.</div>
                                <div class="choice">â¢ Most people are not interested in the income of other people.</div>
                                <div class="choice">â£ People's "actual income" is the amount of money people actually want.</div>
                                <div class="choice">â¤ Money is not a definite route to happiness.</div>
                            </div>

                            <button class="show-hint-btn" onclick="showHint('hint6')">Show Hint / ãã³ããè¦ã</button>
                            <button class="show-answer-btn" onclick="showAnswer('answer6')">Show Answer / è§£ç­ãè¦ã</button>

                            <div id="hint6" class="hint-section">
                                <div class="box hint-box">
                                    <div class="box-title">ð­ ãã³ã(Hint)</div>
                                    <strong>åé¸æè¢ã®æå³:</strong><br>
                                    â  50å¹´åã®äººãããç§ãã¡ãå¹¸ãã ã¨ã¯è¨ãé£ã<br>
                                    â¡ çæ´»æ°´æºãåä¸ãã¦ããªããã50å¹´åããå¹¸ãã«æããªã<br>
                                    â¢ ã»ã¨ãã©ã®äººã¯ä»äººã®åå¥ã«èå³ããªã<br>
                                    â£ ãå®éã®åå¥ãã¨ã¯äººããå®éã«æ¬²ããéé¡ã®ãã¨ã§ãã<br>
                                    â¤ ãéã¯å¹¸ãã¸ã®ç¢ºå®ãªéã§ã¯ãªã<br><br>
                                    
                                    <strong>ãã§ãã¯ãã¤ã³ã:</strong><br>
                                    â æ¬æã§ãçæ´»æ°´æºã¯åä¸ãã¦ããï¼ãã¦ããªãï¼ã<br>
                                    â æ¬æã§ãä»äººã®åå¥ãæ°ã«ããï¼æ°ã«ããªãï¼ã<br>
                                    â "actual income" ã¨ "required income" ã®å®ç¾©ãç¢ºèª!
                                </div>
                            </div>

                            <div id="answer6" class="answer-section">
                                <div class="box correct-box">
                                    <div class="box-title">â æ­£è§£: â  ã¨ â¤</div>
                                    <strong>â  It is hard to say that we are happier than people were 50 years ago.</strong><br>
                                    (50å¹´åã®äººãããç§ãã¡ãå¹¸ãã ã¨ã¯è¨ãé£ã)<br><br>
                                    
                                    <strong>â¤ Money is not a definite route to happiness.</strong><br>
                                    (ãéã¯å¹¸ãã¸ã®ç¢ºå®ãªéã§ã¯ãªã)
                                </div>

                                <div class="box strategy-box">
                                    <div class="box-title">ð¯ èª­è§£ã¹ãã©ãã¸ã¼(Reading Strategy)</div>
                                    <strong>åå®¹ä¸è´åé¡ã®è§£ãæ¹:</strong><br>
                                    1. åé¸æè¢ã®<strong>ã­ã¼ã¯ã¼ã</strong>ãç¹å®<br>
                                    2. æ¬æã§ãã®ã­ã¼ã¯ã¼ããåºã¦ããç®æãæ¢ã<br>
                                    3. é¸æè¢ã®åå®¹ã¨æ¬æã<strong>ç´°ããç§å</strong><br>
                                    4. ãã»ã¼åã£ã¦ãããã§ã¯ãã¡!<strong>100%ä¸è´</strong>ãç¢ºèª
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð â ã®æ ¹æ  (Paragraph 1)</div>
                                    "on average <span class="highlight">people are no happier today</span> than people were <span class="highlight">fifty years ago</span>"<br><br>
                                    è¨³: å¹³åãã¦ä»æ¥ã®äººãã¯50å¹´åã®äººãããã¾ã£ããå¹¸ç¦ã«ãªã£ã¦ããªã<br><br>
                                    
                                    â â  "It is hard to say that we are happier than people were 50 years ago" ã¨<strong>ä¸è´!</strong>
                                </div>

                                <div class="box passage-ref-box">
                                    <div class="box-title">ð â¤ã®æ ¹æ  (Paragraph 5)</div>
                                    "<span class="highlight">financial success is not always necessary</span> for your happiness"<br><br>
                                    è¨³: çµæ¸çãªæåã¯å¿ãããå¹¸ç¦ã«ã¨ã£ã¦å¿è¦ã§ã¯ãªã<br><br>
                                    
                                    â â¤ "Money is not a definite route to happiness" ã¨<strong>ä¸è´!</strong><br>
                                    (ãé = å¹¸ãã¸ã®ç¢ºå®ãªéã§ã¯ãªã)
                                </div>

                                <div class="box incorrect-box">
                                    <div class="box-title">â ãªãâ¡ãä¸æ­£è§£ã</div>
                                    <strong>â¡:</strong> "We don't feel happier than we did 50 years ago because our <span class="highlight">standard of living has not improved</span>."<br>
                                    (çæ´»æ°´æºãåä¸ãã¦ããªããã50å¹´åããå¹¸ãã«æããªã)<br><br>
                                    
                                    <strong>æ¬æ (Paragraph 2):</strong><br>
                                    "But aren't our lives <span class="highlight">infinitely more comfortable</span>? Indeed: we have <span class="highlight">more food, more clothes, more cars, more holidays</span>"<br>
                                    = ç§ãã¡ã®çæ´»ã¯<strong>ã¯ããã«å¿«é©ã«ãªã£ã¦ãã</strong><br><br>
                                    
                                    â <strong>å®å¨ã«é!</strong> çæ´»æ°´æºã¯åä¸ãã¦ããã®ã«å¹¸ãã«ãªã£ã¦ããªãã
                                </div>

                                <div class="box incorrect-box">
                                    <div class="box-title">â ãªãâ¢ãä¸æ­£è§£ã</div>
                                    <strong>â¢:</strong> "Most people are <span class="highlight">not interested in</span> the income of other people."<br>
                                    (ã»ã¨ãã©ã®äººã¯ä»äººã®åå¥ã«èå³ããªã)<br><br>
                                    
                                    <strong>æ¬æ (Paragraph 2):</strong><br>
                                    "People <span class="highlight">care greatly about</span> their relative income"<br>
                                    = äººãã¯ç¸å¯¾çãªåå¥ã<strong>éå¸¸ã«æ°ã«ãã</strong><br><br>
                                    
                                    â <strong>å®å¨ã«é!</strong> äººãã¯ä»äººã¨æ¯ã¹ãåå¥ãéå¸¸ã«æ°ã«ããã
                                </div>

                                <div class="box incorrect-box">
                                    <div class="box-title">â ãªãâ£ãä¸æ­£è§£ã</div>
                                    <strong>â£:</strong> "People's '<span class="highlight">actual income</span>' is the amount of money people <span class="highlight">actually want</span>."<br>
                                    (ãå®éã®åå¥ãã¨ã¯äººããå®éã«æ¬²ããéé¡ã®ãã¨)<br><br>
                                    
                                    <strong>æ¬æ (Paragraph 4):</strong><br>
                                    "how much money they <span class="highlight">actually earn</span> â that is, their 'actual income'"<br>
                                    = å½¼ãã<strong>å®éã«ç¨¼ãã§ãã</strong>éé¡ = ãå®éã®åå¥ã<br><br>
                                    
                                    â <strong>å®ç¾©ãéã!</strong><br>
                                    â¢ actual income = å®éã«<strong>ç¨¼ãã§ãã</strong>éé¡<br>
                                    â¢ required income = å®éã«<strong>å¿è¦ã ã¨æã</strong>éé¡ï¼æ¬²ããéé¡ï¼
                                </div>

                                <div class="box tip-box">
                                    <div class="box-title">âï¸ Tips(ã³ã)</div>
                                    â ã2ã¤é¸ã¹ãåé¡ã¯<strong>æ¶å»æ³</strong>ãæå¹<br>
                                    â <strong>å®ç¾©åé¡</strong>ã¯æ¬æã®èª¬æãæ­£ç¢ºã«ç¢ºèª<br>
                                    â ãã»ã¨ãã©ãããã¤ãããæ±ºãã¦ããªã©ã®<strong>ç¨åº¦ãè¡¨ãèª</strong>ã«æ³¨æ<br>
                                    â æ¬æã¨<strong>éã®åå®¹</strong>ãé¸æè¢ã«ãªã£ã¦ãããã¨ãå¤ã
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div> <!-- end questions-container -->
        </div> <!-- end content -->
    </div> <!-- end container -->

    <div class="corner-trigger-zone"></div>
    <div class="resize-handle-corner" onclick="resetColumnWidth()"></div>

    <script>
        // Layout modes: 0 = single, 1 = two-column (questions), 2 = two-column (translation)
        let layoutMode = 0;

        function toggleLayout() {
            const btn = document.querySelector('.layout-toggle-btn');
            
            // Remove all layout classes
            document.body.classList.remove('two-column-layout', 'translation-layout');
            
            // Cycle through modes
            layoutMode = (layoutMode + 1) % 3;
            
            switch(layoutMode) {
                case 0:
                    // Single column
                    btn.textContent = 'ð± Two Columns';
                    break;
                case 1:
                    // Two column with questions
                    document.body.classList.add('two-column-layout');
                    btn.textContent = 'ð Translation View';
                    break;
                case 2:
                    // Two column with translation
                    document.body.classList.add('translation-layout');
                    btn.textContent = 'ð Single Column';
                    break;
            }
        }

        function toggleQuestion(id) {
            const content = document.getElementById(id);
            const header = content.previousElementSibling;
            
            content.classList.toggle('active');
            header.classList.toggle('active');
        }

        function showHint(id) {
            const hint = document.getElementById(id);
            const button = event.target;
            
            if (hint.classList.contains('visible')) {
                hint.classList.remove('visible');
                button.textContent = button.textContent.replace('Hide', 'Show');
            } else {
                hint.classList.add('visible');
                button.textContent = button.textContent.replace('Show', 'Hide');
            }
        }

        function toggleHeader() {
            document.body.classList.toggle('header-collapsed');
            const btn = document.querySelector('.header-collapse-btn');
            if (btn) {
                if (document.body.classList.contains('header-collapsed')) {
                    btn.textContent = 'â¼ ãããã¼ãè¡¨ç¤º';
                } else {
                    btn.textContent = 'â² ãããã¼ãé ã';
                }
            }
        }

        function showAnswer(id) {
            const answer = document.getElementById(id);
            const button = event.target;
            
            if (answer.classList.contains('visible')) {
                answer.classList.remove('visible');
                button.textContent = button.textContent.replace('Hide', 'Show');
            } else {
                answer.classList.add('visible');
                button.textContent = button.textContent.replace('Show', 'Hide');
            }
        }

        function resetColumnWidth() {
            document.documentElement.style.setProperty('--passage-width', '45%');
        }

        // Column resizer functionality
        const resizer = document.getElementById('columnResizer');
        let isResizing = false;

        resizer.addEventListener('mousedown', function(e) {
            isResizing = true;
            resizer.classList.add('dragging');
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', function(e) {
            if (!isResizing) return;
            
            const container = document.querySelector('.content');
            const containerRect = container.getBoundingClientRect();
            const newWidth = ((e.clientX - containerRect.left) / containerRect.width) * 100;
            
            if (newWidth >= 25 && newWidth <= 70) {
                document.documentElement.style.setProperty('--passage-width', newWidth + '%');
            }
        });

        document.addEventListener('mouseup', function() {
            if (isResizing) {
                isResizing = false;
                resizer.classList.remove('dragging');
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Dual-pane highlight linking setup
        document.addEventListener('DOMContentLoaded', function () {
            const paragraphs = document.querySelectorAll('.paragraph[data-paragraph]');
            const transParagraphs = document.querySelectorAll('.translation-paragraph[data-paragraph]');
            const qSections = document.querySelectorAll('.question-section');

            function clearLinkedHighlight() {
                paragraphs.forEach(p => p.classList.remove('linked-highlight'));
                transParagraphs.forEach(t => t.classList.remove('linked-highlight'));
                qSections.forEach(q => q.classList.remove('linked-highlight'));
            }

            // Question sections hover
            qSections.forEach(sec => {
                const targets = (sec.getAttribute('data-target-paragraphs') || '').split(',').map(v => v.trim()).filter(Boolean);

                sec.addEventListener('mouseenter', function () {
                    clearLinkedHighlight();
                    sec.classList.add('linked-highlight');
                    targets.forEach(num => {
                        const p = document.querySelector('#para' + num);
                        if (p) p.classList.add('linked-highlight');
                    });
                });

                sec.addEventListener('mouseleave', function () {
                    clearLinkedHighlight();
                });
            });

            // Passage paragraphs hover
            paragraphs.forEach(p => {
                const num = p.getAttribute('data-paragraph');
                p.addEventListener('mouseenter', function () {
                    clearLinkedHighlight();
                    p.classList.add('linked-highlight');
                    // Highlight corresponding translation
                    const trans = document.querySelector('#trans' + num);
                    if (trans) trans.classList.add('linked-highlight');
                    // Highlight related questions
                    qSections.forEach(sec => {
                        const targets = (sec.getAttribute('data-target-paragraphs') || '').split(',').map(v => v.trim());
                        if (targets.includes(num)) {
                            sec.classList.add('linked-highlight');
                        }
                    });
                });
                p.addEventListener('mouseleave', function () {
                    clearLinkedHighlight();
                });
            });

            // Translation paragraphs hover
            transParagraphs.forEach(t => {
                const num = t.getAttribute('data-paragraph');
                t.addEventListener('mouseenter', function () {
                    clearLinkedHighlight();
                    t.classList.add('linked-highlight');
                    // Highlight corresponding passage
                    const p = document.querySelector('#para' + num);
                    if (p) p.classList.add('linked-highlight');
                });
                t.addEventListener('mouseleave', function () {
                    clearLinkedHighlight();
                });
            });

            // Click to sync scroll in translation view
            paragraphs.forEach(p => {
                p.addEventListener('click', function () {
                    if (!document.body.classList.contains('translation-layout')) return;
                    const num = p.getAttribute('data-paragraph');
                    const trans = document.querySelector('#trans' + num);
                    if (trans) {
                        trans.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
                // Add cursor pointer in translation mode
                p.style.cursor = 'pointer';
            });

            transParagraphs.forEach(t => {
                t.addEventListener('click', function () {
                    if (!document.body.classList.contains('translation-layout')) return;
                    const num = t.getAttribute('data-paragraph');
                    const p = document.querySelector('#para' + num);
                    if (p) {
                        p.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
                // Add cursor pointer in translation mode
                t.style.cursor = 'pointer';
            });

            // Sync scroll between passage and translation columns
            const passageSection = document.querySelector('.passage-section');
            const translationSection = document.querySelector('.translation-section');
            let isSyncingScroll = false;

            function syncScroll(source, target) {
                if (isSyncingScroll) return;
                if (!document.body.classList.contains('translation-layout')) return;
                
                isSyncingScroll = true;
                
                const sourceScrollRatio = source.scrollTop / (source.scrollHeight - source.clientHeight);
                const targetScrollTop = sourceScrollRatio * (target.scrollHeight - target.clientHeight);
                
                target.scrollTop = targetScrollTop;
                
                setTimeout(() => {
                    isSyncingScroll = false;
                }, 50);
            }

            passageSection.addEventListener('scroll', function() {
                syncScroll(passageSection, translationSection);
            });

            translationSection.addEventListener('scroll', function() {
                syncScroll(translationSection, passageSection);
            });
        });
    </script>
</body>
</html>
