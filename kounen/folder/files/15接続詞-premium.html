<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>15 æ¥ç¶šè© | Conjunctions</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #faf9f7;
      --bg-warm: #f5f3ef;
      --card: #ffffff;
      --text: #1a1a1a;
      --text-secondary: #6b6b6b;
      --text-muted: #999999;
      --border: rgba(0,0,0,0.08);
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.04);
      --shadow: 0 4px 20px rgba(0,0,0,0.06);
      --shadow-lg: 0 12px 40px rgba(0,0,0,0.1);
      --radius: 20px;
      --radius-sm: 12px;
      /* Conjunction type colors */
      --coord: #e8725c;
      --coord-light: #fef4f2;
      --subord: #3d8bca;
      --subord-light: #f0f7fc;
      --correl: #9b7fcf;
      --correl-light: #f8f5fc;
      --adverb: #5a9a6e;
      --adverb-light: #f3f9f5;
      --accent: #e8725c;
    }
    [data-theme="dark"] {
      --bg: #0d0d0d;
      --bg-warm: #141414;
      --card: #1a1a1a;
      --text: #f5f5f5;
      --text-secondary: #a0a0a0;
      --text-muted: #666666;
      --border: rgba(255,255,255,0.08);
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.2);
      --shadow: 0 4px 20px rgba(0,0,0,0.3);
      --shadow-lg: 0 12px 40px rgba(0,0,0,0.4);
      --coord-light: rgba(232,114,92,0.12);
      --subord-light: rgba(61,139,202,0.12);
      --correl-light: rgba(155,127,207,0.12);
      --adverb-light: rgba(90,154,110,0.12);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html {
      scroll-behavior: smooth;
    }
    /* Scroll offset for fixed nav */
    #intro, #overview, #study {
      scroll-margin-top: 52px;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Noto Sans JP', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }
    /* ===== TOP NAVIGATION BAR ===== */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(250, 249, 247, 0.95);
      border-bottom: 1px solid var(--border);
      padding: 0 24px;
      height: 52px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    [data-theme="dark"] .top-nav {
      background: rgba(13, 13, 13, 0.95);
    }
    .top-nav-logo {
      font-family: 'New York', 'Georgia', serif;
      font-size: 15px;
      color: var(--text-secondary);
      letter-spacing: 0.02em;
    }
    .top-nav-center {
      display: flex;
      gap: 8px;
    }
    .top-nav-link {
      padding: 8px 20px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      text-decoration: none;
      border-radius: 100px;
      transition: all 0.2s ease;
    }
    .top-nav-link:hover {
      color: var(--text);
      background: var(--bg-warm);
    }
    .top-nav-link.active {
      color: var(--text);
      background: var(--card);
      box-shadow: var(--shadow-sm);
    }
    [data-theme="dark"] .top-nav-link:hover {
      background: var(--card);
    }
    .top-nav-theme {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--card);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      transition: all 0.2s ease;
    }
    .top-nav-theme:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-sm);
    }

    /* Grain overlay - DISABLED for performance */
    /*
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      opacity: 0.015;
      background-image: url("data:image/svg+xml,...");
      z-index: 9999;
    }
    */

    /* ===== INTRO / HERO SECTION ===== */
    .intro {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      overflow: hidden;
      padding-top: 52px;
    }
    .intro-bg {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--bg-warm);
      opacity: 0.5;
    }
    .intro-nav {
      position: absolute;
      top: 52px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 24px 48px;
      z-index: 10;
    }
    .intro-logo {
      font-family: 'New York', 'Georgia', 'Noto Serif JP', serif;
      font-size: 18px;
      color: var(--text-secondary);
      letter-spacing: 0.02em;
    }
    .intro-actions {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    .theme-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--card);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      transition: all 0.2s ease;
    }
    .theme-btn:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow);
    }
    .intro-hero {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 40px;
      position: relative;
      z-index: 10;
    }
    .intro-label {
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 24px;
      animation: fadeInUp 0.8s ease-out 0.1s both;
    }
    .intro-title {
      font-family: 'New York', 'Georgia', serif;
      font-size: clamp(64px, 12vw, 140px);
      font-weight: 400;
      line-height: 1;
      letter-spacing: -0.03em;
      margin-bottom: 24px;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }
    .intro-title em {
      font-style: italic;
      color: var(--accent);
    }
    .intro-subtitle {
      font-size: 20px;
      color: var(--text-secondary);
      max-width: 500px;
      margin-bottom: 48px;
      animation: fadeInUp 0.8s ease-out 0.3s both;
    }
    .intro-cta {
      display: flex;
      gap: 16px;
      animation: fadeInUp 0.8s ease-out 0.4s both;
    }
    .btn-primary {
      padding: 16px 32px;
      background: var(--text);
      color: var(--bg);
      border: none;
      border-radius: 100px;
      font-size: 15px;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.34,1.56,0.64,1);
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    .btn-secondary {
      padding: 16px 32px;
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 100px;
      font-size: 15px;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .btn-secondary:hover {
      background: var(--card);
      border-color: transparent;
      box-shadow: var(--shadow);
    }
    .intro-scroll {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      color: var(--text-muted);
      font-size: 12px;
      letter-spacing: 0.1em;
    }
    /* Animations disabled for performance testing */

    /* ===== CONJUNCTION TYPES OVERVIEW ===== */
    .overview {
      padding: 100px 48px;
      background: var(--bg-warm);
    }
    .overview-header {
      text-align: center;
      margin-bottom: 60px;
    }
    .overview-label {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 16px;
    }
    .overview-title {
      font-family: 'New York', 'Georgia', serif;
      font-size: clamp(32px, 5vw, 48px);
      font-weight: 400;
      letter-spacing: -0.02em;
    }
    .type-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
      max-width: 1400px;
      margin: 0 auto;
      perspective: 1000px;
    }
    @media (max-width: 1100px) {
      .type-grid { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px) {
      .type-grid { grid-template-columns: 1fr; }
      .overview { padding: 60px 24px; }
      .intro-nav { padding: 20px 24px; }
    }
    .type-card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 32px;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border);
      cursor: pointer;
      border-top: 4px solid var(--card-accent);
      transition: box-shadow 0.3s ease;
      animation: fadeIn 0.4s ease backwards;
      transform-style: preserve-3d;
    }
    /* Hover handled by JS for 3D tilt effect */
    .type-card:nth-child(1) { animation-delay: 0s; }
    .type-card:nth-child(2) { animation-delay: 0.08s; }
    .type-card:nth-child(3) { animation-delay: 0.16s; }
    .type-card:nth-child(4) { animation-delay: 0.24s; }
    .type-card.coord { --card-accent: var(--coord); }
    .type-card.subord { --card-accent: var(--subord); }
    .type-card.correl { --card-accent: var(--correl); }
    .type-card.adverb { --card-accent: var(--adverb); }
    .type-icon {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      margin-bottom: 20px;
    }
    .coord .type-icon { background: var(--coord-light); }
    .subord .type-icon { background: var(--subord-light); }
    .correl .type-icon { background: var(--correl-light); }
    .adverb .type-icon { background: var(--adverb-light); }
    .type-name {
      font-family: 'New York', 'Georgia', serif;
      font-size: 22px;
      margin-bottom: 4px;
    }
    .type-name-jp {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }
    .type-words {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .type-word {
      padding: 4px 10px;
      background: var(--bg-warm);
      border-radius: 100px;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-secondary);
    }
    [data-theme="dark"] .type-word {
      background: var(--bg);
    }

    /* ===== DETAILED CONJUNCTION CARDS ===== */
    .conj-section {
      padding: 80px 48px;
      max-width: 1400px;
      margin: 0 auto;
    }
    @media (max-width: 600px) {
      .conj-section { padding: 48px 20px; }
    }
    .conj-section-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 40px;
    }
    .conj-section-icon {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      flex-shrink: 0;
    }
    .conj-section.coord .conj-section-icon { background: var(--coord-light); }
    .conj-section.subord .conj-section-icon { background: var(--subord-light); }
    .conj-section.correl .conj-section-icon { background: var(--correl-light); }
    .conj-section.adverb .conj-section-icon { background: var(--adverb-light); }
    .conj-section-title {
      font-family: 'New York', 'Georgia', serif;
      font-size: clamp(24px, 4vw, 32px);
      font-weight: 400;
    }
    .conj-section-title-jp {
      font-size: 14px;
      color: var(--text-secondary);
      margin-top: 4px;
    }
    .conj-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
      perspective: 1000px;
    }
    @media (max-width: 900px) {
      .conj-grid { grid-template-columns: 1fr; }
    }
    .conj-card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border);
      position: relative;
      border-left: 4px solid var(--card-accent);
      transition: box-shadow 0.3s ease;
      animation: fadeIn 0.4s ease backwards;
      transform-style: preserve-3d;
    }
    /* Hover handled by JS 3D tilt */
    /* Staggered card animation delays */
    .conj-card:nth-child(1) { animation-delay: 0s; }
    .conj-card:nth-child(2) { animation-delay: 0.05s; }
    .conj-card:nth-child(3) { animation-delay: 0.1s; }
    .conj-card:nth-child(4) { animation-delay: 0.15s; }
    .conj-card:nth-child(5) { animation-delay: 0.2s; }
    .conj-card:nth-child(6) { animation-delay: 0.25s; }
    .conj-section.coord .conj-card { --card-accent: var(--coord); }
    .conj-section.subord .conj-card { --card-accent: var(--subord); }
    .conj-section.correl .conj-card { --card-accent: var(--correl); }
    .conj-section.adverb .conj-card { --card-accent: var(--adverb); }
    .conj-card-word {
      font-family: 'New York', 'Georgia', serif;
      font-size: 28px;
      font-weight: 400;
      color: var(--card-accent);
      margin-bottom: 4px;
    }
    .conj-card-meaning {
      font-size: 15px;
      color: var(--text-secondary);
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }
    .conj-card-example {
      margin-bottom: 16px;
    }
    .conj-card-example-en {
      font-size: 15px;
      line-height: 1.7;
      margin-bottom: 6px;
    }
    .conj-card-example-en strong {
      color: var(--card-accent);
      font-weight: 700;
    }
    .conj-card-example-jp {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.6;
    }
    .conj-card-tip {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 14px 16px;
      background: var(--bg-warm);
      border-radius: var(--radius-sm);
      margin-top: 16px;
    }
    [data-theme="dark"] .conj-card-tip {
      background: var(--bg);
    }
    .conj-card-tip-icon {
      font-size: 16px;
      flex-shrink: 0;
      margin-top: 1px;
    }
    .conj-card-tip-text {
      font-size: 13px;
      line-height: 1.6;
      color: var(--text-secondary);
    }
    /* Card animations disabled for performance */

    /* ===== MAIN STUDY SECTION ===== */
    .study {
      padding: 80px 48px 120px;
      max-width: 1200px;
      margin: 0 auto;
    }
    @media (max-width: 600px) {
      .study { padding: 40px 20px 80px; }
    }
    .study-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      flex-wrap: wrap;
      gap: 16px;
    }
    .study-title {
      font-family: 'New York', 'Georgia', serif;
      font-size: 28px;
    }
    .study-controls {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }
    .view-toggle {
      display: flex;
      background: var(--bg-warm);
      border-radius: 100px;
      padding: 4px;
    }
    .view-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 100px;
      background: transparent;
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .view-btn.active {
      background: var(--card);
      color: var(--text);
      box-shadow: var(--shadow-sm);
    }
    .ctrl-btn {
      padding: 10px 20px;
      border: 1px solid var(--border);
      border-radius: 100px;
      background: var(--card);
      color: var(--text);
      font-size: 14px;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .ctrl-btn:hover {
      border-color: var(--text);
    }

    /* Progress */
    .progress-wrap {
      margin-bottom: 32px;
    }
    .progress-bar-bg {
      height: 6px;
      background: var(--bg-warm);
      border-radius: 100px;
      overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--coord), var(--subord));
      border-radius: 100px;
      width: 0%;
    }
    .progress-label {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 8px;
      text-align: right;
    }

    /* Search */
    .search-wrap {
      position: relative;
      margin-bottom: 32px;
    }
    .search-input {
      width: 100%;
      padding: 16px 20px 16px 52px;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      background: var(--card);
      font-size: 15px;
      font-family: inherit;
      color: var(--text);
      transition: all 0.2s ease;
    }
    .search-input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 4px var(--coord-light);
    }
    .search-input::placeholder {
      color: var(--text-muted);
    }
    .search-icon {
      position: absolute;
      left: 18px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
      font-size: 18px;
    }

    /* Section */
    .section {
      background: var(--card);
      border-radius: var(--radius);
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border);
      overflow: hidden;
    }
    .section-header {
      padding: 20px 28px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      font-size: 16px;
    }
    .section-arrow {
      font-size: 12px;
      color: var(--text-muted);
      transition: transform 0.2s ease;
    }
    .section-header.open .section-arrow {
      transform: rotate(180deg);
    }
    .section-body {
      display: none;
    }
    .section-body.open {
      display: block;
      border-top: 1px solid var(--border);
      padding: 20px;
    }
    .questions-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    /* Question Card */
    .qcard {
      background: var(--bg);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border);
    }
    .qcard-question, .qcard-buttons, .qcard-left, .qcard-right {
      box-sizing: border-box;
    }
    .qcard-buttons, .toggle-btn-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .qcard-buttons {
      padding: 0 24px 16px;
    }
    /* Dual/Split view */
    [data-view="dual"] .qcard {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      grid-template-areas:
        "question question"
        "left right";
    }
    [data-view="dual"] .qcard-buttons {
      display: none;
    }
    [data-view="dual"] .qcard-question {
      grid-area: question;
      padding: 24px;
      border-bottom: 1px solid var(--border);
    }
    [data-view="dual"] .qcard-left {
      grid-area: left;
      padding: 24px;
      border-right: 1px solid var(--border);
    }
    [data-view="dual"] .qcard-right {
      grid-area: right;
      padding: 24px;
      background: var(--bg-warm);
    }
    [data-view="dual"] .collapsible {
      display: none;
    }
    [data-view="dual"] .collapsible.open {
      display: block;
      margin-top: 16px;
    }
    /* Single view */
    [data-view="single"] .qcard {
      display: block;
    }
    [data-view="single"] .qcard-buttons {
      display: flex;
    }
    [data-view="single"] .toggle-btn-row {
      display: none;
    }
    [data-view="single"] .qcard-question {
      padding: 24px 24px 16px;
    }
    [data-view="single"] .qcard-left {
      padding: 0 24px 0;
      border-right: none;
    }
    [data-view="single"] .qcard-right {
      padding: 0 24px 24px;
      background: transparent;
    }
    [data-view="single"] .collapsible {
      display: none;
    }
    [data-view="single"] .collapsible.open {
      display: block;
      margin-top: 16px;
    }
    @media (max-width: 800px) {
      [data-view="dual"] .qcard {
        grid-template-columns: 1fr;
        grid-template-areas:
          "question"
          "left"
          "right";
      }
      [data-view="dual"] .qcard-left {
        border-right: none;
        border-bottom: 1px solid var(--border);
      }
    }
    .qnum {
      display: inline-block;
      font-weight: 700;
      font-size: 12px;
      color: var(--accent);
      background: var(--coord-light);
      padding: 4px 12px;
      border-radius: 100px;
      margin-bottom: 12px;
    }
    .qtext {
      font-size: 15px;
      line-height: 1.8;
      margin-bottom: 12px;
    }
    .choices, .scramble {
      padding: 14px 16px;
      border-radius: var(--radius-sm);
      font-size: 14px;
    }
    .qcard-question .choices:last-child,
    .qcard-question .scramble:last-child {
      margin-bottom: 0;
    }
    .choices {
      background: var(--correl-light);
      border-left: 3px solid var(--correl);
    }
    .scramble {
      background: var(--subord-light);
      border-left: 3px solid var(--subord);
      font-family: 'SF Mono', Monaco, monospace;
    }
    .toggle-btn {
      flex: 1;
      min-width: 80px;
      padding: 10px 16px;
      border: none;
      border-radius: 100px;
      font-size: 13px;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: transform 0.15s ease, opacity 0.15s ease;
    }
    .toggle-btn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }
    .toggle-btn:active {
      transform: scale(0.98);
    }
    .toggle-btn.vocab { background: var(--correl); color: white; }
    .toggle-btn.hint { background: var(--coord); color: white; }
    .toggle-btn.answer { background: var(--adverb); color: white; }
    .box {
      border-radius: var(--radius-sm);
      padding: 16px;
      font-size: 14px;
      line-height: 1.7;
    }
    .vocab-box {
      background: var(--correl-light);
      border-left: 3px solid var(--correl);
    }
    .hint-box {
      background: var(--coord-light);
      border-left: 3px solid var(--coord);
    }
    .ans-box {
      background: var(--adverb-light);
      border-left: 3px solid var(--adverb);
    }
    .choice-explanations {
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid rgba(90, 154, 110, 0.2);
    }
    .choice-exp {
      padding: 6px 0;
      font-size: 13px;
      line-height: 1.6;
    }
    .choice-exp.correct {
      color: var(--adverb);
      font-weight: 600;
    }
    .choice-exp.wrong {
      color: var(--text-secondary);
    }
    .vocab-item {
      padding: 6px 0;
      border-bottom: 1px solid rgba(155,127,207,0.15);
    }
    .vocab-item:last-child { border-bottom: none; }
    .vocab-word {
      font-weight: 700;
      color: var(--correl);
      margin-right: 8px;
    }
    .box-label {
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 12px;
      display: block;
    }
    .jp-text {
      color: var(--text-secondary);
      margin-top: 12px;
      font-size: 14px;
    }
    .grammar-ref {
      background: var(--subord-light);
      border-left: 3px solid var(--subord);
      padding: 12px 14px;
      border-radius: var(--radius-sm);
      font-size: 13px;
      margin-top: 12px;
    }
    .no-match { display: none !important; }

    /* Footer */
    footer {
      text-align: center;
      padding: 40px;
      color: var(--text-muted);
      font-size: 13px;
      border-top: 1px solid var(--border);
    }

    /* FAB */
    .fab {
      position: fixed;
      bottom: 32px;
      right: 32px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--text);
      color: var(--bg);
      border: none;
      cursor: pointer;
      font-size: 24px;
      box-shadow: var(--shadow-lg);
      z-index: 100;
    }

    /* ===== CSS ANIMATIONS ===== */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(12px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .collapsible.open {
      animation: slideIn 0.2s ease;
    }
  </style>
</head>
<body data-view="single">

  <!-- ===== TOP NAVIGATION BAR ===== -->
  <nav class="top-nav" id="topNav">
    <div class="top-nav-logo">DUAL SCOPE</div>
    <div class="top-nav-center">
      <a href="#intro" class="top-nav-link active" data-section="intro">Start</a>
      <a href="#overview" class="top-nav-link" data-section="overview">Overview</a>
      <a href="#study" class="top-nav-link" data-section="study">Questions</a>
    </div>
    <button class="top-nav-theme" onclick="toggleTheme()" title="Toggle theme">
      <span class="theme-icon">â˜€ï¸</span>
    </button>
  </nav>

  <!-- ===== INTRO SECTION ===== -->
  <section class="intro" id="intro">
    <div class="intro-bg"></div>
    <div class="intro-hero">
      <p class="intro-label">Lesson 15</p>
      <h1 class="intro-title">æ¥ç¶šè©</h1>
      <p class="intro-subtitle">Master the art of connecting ideas in English with conjunctions.</p>
      <div class="intro-cta">
        <button class="btn-primary" onclick="scrollToStudy()">Start Learning</button>
        <button class="btn-secondary" onclick="scrollToOverview()">Overview</button>
      </div>
    </div>
    <div class="intro-scroll">
      <span>SCROLL</span>
      <span>â†“</span>
    </div>
  </section>

  <!-- ===== CONJUNCTION REFERENCE SECTIONS ===== -->
  <div id="overview">
    <!-- Coordinating Conjunctions -->
    <section class="conj-section coord">
      <div class="conj-section-header">
        <div class="conj-section-icon">ğŸ”—</div>
        <div>
          <h2 class="conj-section-title">Coordinating Conjunctions</h2>
          <p class="conj-section-title-jp">ç­‰ä½æ¥ç¶šè©</p>
        </div>
      </div>
      <div class="conj-grid">
        <div class="conj-card">
          <div class="conj-card-word">and</div>
          <div class="conj-card-meaning">ãã—ã¦ã€ã€œã¨</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">I like coffee <strong>and</strong> tea.</p>
            <p class="conj-card-example-jp">ç§ã¯ã‚³ãƒ¼ãƒ’ãƒ¼ã¨ç´…èŒ¶ãŒå¥½ãã§ã™ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">2ã¤ä»¥ä¸Šã®ã‚‚ã®ã‚’ã€Œè¿½åŠ ã€ã™ã‚‹ã¨ãã«ä½¿ã†æœ€ã‚‚åŸºæœ¬çš„ãªæ¥ç¶šè©ã€‚å‘½ä»¤æ–‡ + and ã§ã€Œã€œã—ãªã•ã„ã€ãã†ã™ã‚Œã°ã€</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">but</div>
          <div class="conj-card-meaning">ã—ã‹ã—ã€ã§ã‚‚</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">I want to go, <strong>but</strong> I'm too busy.</p>
            <p class="conj-card-example-jp">è¡ŒããŸã„ã®ã§ã™ãŒã€å¿™ã—ã™ãã¾ã™ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">å‰å¾Œã®å†…å®¹ãŒã€Œå¯¾ç…§çš„ã€ã¾ãŸã¯ã€Œé€†ã€ã®ã¨ãã«ä½¿ã†ã€‚not A but B ã§ã€ŒAã§ã¯ãªãBã€</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">or</div>
          <div class="conj-card-meaning">ã¾ãŸã¯ã€ã•ã‚‚ãªã„ã¨</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">Hurry up, <strong>or</strong> you'll miss the train.</p>
            <p class="conj-card-example-jp">æ€¥ããªã•ã„ã€ã•ã‚‚ãªã„ã¨é›»è»Šã«ä¹—ã‚Šé…ã‚Œã¾ã™ã‚ˆã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">é¸æŠè‚¢ã‚’ç¤ºã™ã€‚å‘½ä»¤æ–‡ + or ã§ã€Œã€œã—ãªã•ã„ã€ã•ã‚‚ãªã„ã¨ã€ã¨ã„ã†è­¦å‘Šã®æ„å‘³ã«</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">so</div>
          <div class="conj-card-meaning">ã ã‹ã‚‰ã€ãã‚Œã§</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">It was raining, <strong>so</strong> we stayed home.</p>
            <p class="conj-card-example-jp">é›¨ãŒé™ã£ã¦ã„ãŸã®ã§ã€å®¶ã«ã„ã¾ã—ãŸã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">åŸå› ã‹ã‚‰çµæœã‚’å°ãã€‚å‰ã®æ–‡ãŒåŸå› ã€å¾Œã®æ–‡ãŒçµæœã¨ã„ã†å› æœé–¢ä¿‚ã‚’è¡¨ã™</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">for</div>
          <div class="conj-card-meaning">ã¨ã„ã†ã®ã¯ã€œã ã‹ã‚‰</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">I stayed still, <strong>for</strong> I didn't know what to do.</p>
            <p class="conj-card-example-jp">ã˜ã£ã¨ã—ã¦ã„ãŸã€ã¨ã„ã†ã®ã¯ä½•ã‚’ã™ã‚Œã°ã„ã„ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸã‹ã‚‰ã ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">è£œè¶³çš„ã«ç†ç”±ã‚’è¿°ã¹ã‚‹ã€‚æ–‡é ­ã«ã¯ä½¿ãˆãªã„ã€‚ã‚„ã‚„æ–‡èªçš„ãªè¡¨ç¾</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">yet</div>
          <div class="conj-card-meaning">ã—ã‹ã—ã€ãã‚Œã§ã‚‚</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">She's tired, <strong>yet</strong> she keeps working.</p>
            <p class="conj-card-example-jp">å½¼å¥³ã¯ç–²ã‚Œã¦ã„ã‚‹ãŒã€ãã‚Œã§ã‚‚åƒãç¶šã‘ã¦ã„ã‚‹ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">but ã‚ˆã‚Šå¼·ã„å¯¾æ¯”ã‚’è¡¨ã™ã€‚äºˆæƒ³ã«åã™ã‚‹çµæœã‚’å¼·èª¿ã™ã‚‹ã¨ãã«ä½¿ã†</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Correlative Conjunctions -->
    <section class="conj-section correl">
      <div class="conj-section-header">
        <div class="conj-section-icon">âœ¨</div>
        <div>
          <h2 class="conj-section-title">Correlative Conjunctions</h2>
          <p class="conj-section-title-jp">ç›¸é–¢æ¥ç¶šè©</p>
        </div>
      </div>
      <div class="conj-grid">
        <div class="conj-card">
          <div class="conj-card-word">both A and B</div>
          <div class="conj-card-meaning">Aã‚‚Bã‚‚ä¸¡æ–¹</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en"><strong>Both</strong> coffee <strong>and</strong> tea are popular.</p>
            <p class="conj-card-example-jp">ã‚³ãƒ¼ãƒ’ãƒ¼ã‚‚ç´…èŒ¶ã‚‚ä¸¡æ–¹äººæ°—ãŒã‚ã‚Šã¾ã™ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">2ã¤ã®è¦ç´ ã‚’ç­‰ã—ãå¼·èª¿ã€‚ä¸»èªã«ãªã‚‹å ´åˆã¯å¸¸ã«è¤‡æ•°æ‰±ã„</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">either A or B</div>
          <div class="conj-card-meaning">Aã‹Bã‹ã©ã¡ã‚‰ã‹</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">You can have <strong>either</strong> coffee <strong>or</strong> tea.</p>
            <p class="conj-card-example-jp">ã‚³ãƒ¼ãƒ’ãƒ¼ã‹ç´…èŒ¶ã®ã©ã¡ã‚‰ã‹ã‚’é¸ã¹ã¾ã™ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">2æŠã®é¸æŠè‚¢ã‚’ç¤ºã™ã€‚ä¸»èªã«ãªã‚‹å ´åˆã€å‹•è©ã¯Bã«ä¸€è‡´ã•ã›ã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">neither A nor B</div>
          <div class="conj-card-meaning">Aã‚‚Bã‚‚ã©ã¡ã‚‰ã‚‚ã€œãªã„</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en"><strong>Neither</strong> he <strong>nor</strong> I was wrong.</p>
            <p class="conj-card-example-jp">å½¼ã‚‚ç§ã‚‚ã©ã¡ã‚‰ã‚‚é–“é•ã£ã¦ã„ãªã‹ã£ãŸã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">ä¸¡æ–¹ã‚’å¦å®šã™ã‚‹ã€‚ä¸»èªã«ãªã‚‹å ´åˆã€å‹•è©ã¯Bã«ä¸€è‡´ã•ã›ã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">not only A but also B</div>
          <div class="conj-card-meaning">Aã ã‘ã§ãªãBã‚‚</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">She is <strong>not only</strong> smart <strong>but also</strong> kind.</p>
            <p class="conj-card-example-jp">å½¼å¥³ã¯è³¢ã„ã ã‘ã§ãªãè¦ªåˆ‡ã§ã‚‚ã‚ã‚‹ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">Bã«é‡ç‚¹ã‚’ç½®ãè¡¨ç¾ã€‚ä¸»èªã«ãªã‚‹å ´åˆã€å‹•è©ã¯Bã«ä¸€è‡´ã•ã›ã‚‹</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Subordinating Conjunctions -->
    <section class="conj-section subord">
      <div class="conj-section-header">
        <div class="conj-section-icon">â°</div>
        <div>
          <h2 class="conj-section-title">Subordinating Conjunctions</h2>
          <p class="conj-section-title-jp">å¾“ä½æ¥ç¶šè©</p>
        </div>
      </div>
      <div class="conj-grid">
        <div class="conj-card">
          <div class="conj-card-word">when / while</div>
          <div class="conj-card-meaning">ã€œã™ã‚‹ã¨ã / ã€œã—ã¦ã„ã‚‹é–“</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">I was reading <strong>when</strong> he called.</p>
            <p class="conj-card-example-jp">å½¼ãŒé›»è©±ã—ãŸã¨ãã€ç§ã¯èª­æ›¸ã‚’ã—ã¦ã„ãŸã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">while ã¯ç¶™ç¶šçš„ãªå‹•ä½œã«ä½¿ã†ã€‚while ã«ã¯ã€Œä¸€æ–¹ã§ã¯ã€ã¨ã„ã†è­²æ­©ã®æ„å‘³ã‚‚ã‚ã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">because / since</div>
          <div class="conj-card-meaning">ã€œãªã®ã§ / ã€œã ã‹ã‚‰</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en"><strong>Since</strong> you know, you should help her.</p>
            <p class="conj-card-example-jp">å›ã¯çŸ¥ã£ã¦ã„ã‚‹ã®ã ã‹ã‚‰ã€å½¼å¥³ã‚’åŠ©ã‘ã‚‹ã¹ãã ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">because ã¯ç›´æ¥çš„ãªç†ç”±ã€since ã¯æ—¢çŸ¥ã®äº‹å®Ÿã‚’ç†ç”±ã¨ã—ã¦è£œè¶³çš„ã«è¿°ã¹ã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">if / unless</div>
          <div class="conj-card-meaning">ã‚‚ã—ã€œãªã‚‰ / ã€œã§ãªã„é™ã‚Š</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">I won't go <strong>unless</strong> you come too.</p>
            <p class="conj-card-example-jp">å›ã‚‚æ¥ãªã„é™ã‚Šã€ç§ã¯è¡Œã‹ãªã„ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">unless = if notã€‚æ¡ä»¶ã‚’è¡¨ã™å‰¯è©ç¯€ã§ã¯æœªæ¥ã®ã“ã¨ã‚‚ç¾åœ¨å½¢ã§è¡¨ã™</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">although / though</div>
          <div class="conj-card-meaning">ã€œã ã‘ã‚Œã©ã‚‚</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en"><strong>Although</strong> tired, he kept working.</p>
            <p class="conj-card-example-jp">ç–²ã‚Œã¦ã„ãŸã‘ã‚Œã©ã‚‚ã€å½¼ã¯åƒãç¶šã‘ãŸã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">è­²æ­©ã‚’è¡¨ã™ã€‚even though ã§å¼·èª¿ã€‚though ã¯æ–‡æœ«ã«å‰¯è©ã¨ã—ã¦ä½¿ãˆã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">as</div>
          <div class="conj-card-meaning">ã€œã™ã‚‹ã«ã¤ã‚Œã¦ / ã€œã®ã‚ˆã†ã« / ã€œãªã®ã§</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en"><strong>As</strong> time passed, things got better.</p>
            <p class="conj-card-example-jp">æ™‚é–“ãŒçµŒã¤ã«ã¤ã‚Œã¦ã€çŠ¶æ³ã¯è‰¯ããªã£ãŸã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">æ™‚ãƒ»ç†ç”±ãƒ»æ§˜æ…‹ãªã©å¤šç¾©èªã€‚as far asã€Œã€œã™ã‚‹é™ã‚Šã€ã€as long asã€Œã€œã™ã‚‹é–“ã¯ã€</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">once</div>
          <div class="conj-card-meaning">ã„ã£ãŸã‚“ã€œã™ã‚‹ã¨</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en"><strong>Once</strong> you start, you can't stop.</p>
            <p class="conj-card-example-jp">ã„ã£ãŸã‚“å§‹ã‚ã‚‹ã¨ã€ã‚„ã‚ã‚‰ã‚Œãªã„ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">ã€Œæ™‚ã€ã¨ã€Œæ¡ä»¶ã€ã®ä¸¡æ–¹ã®æ„å‘³ã‚’å«ã‚€ã€‚å‰¯è©ç¯€ãªã®ã§æœªæ¥ã‚‚ç¾åœ¨å½¢ã§è¡¨ã™</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">whether</div>
          <div class="conj-card-meaning">ã€œã‹ã©ã†ã‹ / ã€œã§ã‚ã‚ã†ã¨ãªã‹ã‚ã†ã¨</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en"><strong>Whether</strong> he comes or not, we'll start.</p>
            <p class="conj-card-example-jp">å½¼ãŒæ¥ã‚ˆã†ã¨æ¥ã¾ã„ã¨ã€å§‹ã‚ã‚‹ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">åè©ç¯€ã€Œã€œã‹ã©ã†ã‹ã€ã¨å‰¯è©ç¯€ã€Œã€œã§ã‚ã‚ã†ã¨ãªã‹ã‚ã†ã¨ã€ã®2ã¤ã®ç”¨æ³•ãŒã‚ã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">so that</div>
          <div class="conj-card-meaning">ã€œã™ã‚‹ãŸã‚ã« / ãã®çµæœã€œ</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">Speak louder <strong>so that</strong> everyone can hear.</p>
            <p class="conj-card-example-jp">ã¿ã‚“ãªã«èã“ãˆã‚‹ã‚ˆã†ã«ã€ã‚‚ã£ã¨å¤§ããªå£°ã§è©±ã—ã¦ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">ç›®çš„ã€Œã€œã§ãã‚‹ã‚ˆã†ã«ã€ã¨çµæœã€Œãã®çµæœã€œã€ã®æ„å‘³ãŒã‚ã‚‹</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Conjunctive Adverbs -->
    <section class="conj-section adverb">
      <div class="conj-section-header">
        <div class="conj-section-icon">ğŸ“</div>
        <div>
          <h2 class="conj-section-title">Conjunctive Adverbs</h2>
          <p class="conj-section-title-jp">æ¥ç¶šå‰¯è©</p>
        </div>
      </div>
      <div class="conj-grid">
        <div class="conj-card">
          <div class="conj-card-word">however</div>
          <div class="conj-card-meaning">ã—ã‹ã—ãªãŒã‚‰</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">I wanted to go. <strong>However</strong>, I was too busy.</p>
            <p class="conj-card-example-jp">è¡ŒããŸã‹ã£ãŸã€‚ã—ã‹ã—ãªãŒã‚‰ã€å¿™ã—ã™ããŸã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">æ–‡é ­ãƒ»æ–‡ä¸­ãƒ»æ–‡æœ«ã§ä½¿ãˆã‚‹ã€‚æ–‡ä¸­ã§ã¯ã‚³ãƒ³ãƒã§åŒºåˆ‡ã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">therefore</div>
          <div class="conj-card-meaning">ã—ãŸãŒã£ã¦ã€ãã‚Œã‚†ãˆ</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">He studied hard; <strong>therefore</strong>, he passed.</p>
            <p class="conj-card-example-jp">å½¼ã¯ä¸€ç”Ÿæ‡¸å‘½å‹‰å¼·ã—ãŸã€‚ã—ãŸãŒã£ã¦åˆæ ¼ã—ãŸã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">è«–ç†çš„ãªçµæœãƒ»çµè«–ã‚’å°ãã€‚ãƒ•ã‚©ãƒ¼ãƒãƒ«ãªæ–‡ç« ã§ã‚ˆãä½¿ã‚ã‚Œã‚‹</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">moreover / furthermore</div>
          <div class="conj-card-meaning">ã•ã‚‰ã«ã€ãã®ä¸Š</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">He's smart. <strong>Moreover</strong>, he's hardworking.</p>
            <p class="conj-card-example-jp">å½¼ã¯è³¢ã„ã€‚ã•ã‚‰ã«ã€å‹¤å‹‰ã ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">æƒ…å ±ã‚’è¿½åŠ ã™ã‚‹ã€‚å‰ã®å†…å®¹ã‚’è£œå¼·ã™ã‚‹éš›ã«ä½¿ã†</span>
          </div>
        </div>
        <div class="conj-card">
          <div class="conj-card-word">otherwise</div>
          <div class="conj-card-meaning">ã•ã‚‚ãªã‘ã‚Œã°</div>
          <div class="conj-card-example">
            <p class="conj-card-example-en">Study hard; <strong>otherwise</strong>, you'll fail.</p>
            <p class="conj-card-example-jp">ä¸€ç”Ÿæ‡¸å‘½å‹‰å¼·ã—ãªã•ã„ã€‚ã•ã‚‚ãªã‘ã‚Œã°è½ã¡ã‚‹ã€‚</p>
          </div>
          <div class="conj-card-tip">
            <span class="conj-card-tip-icon">ğŸ’¡</span>
            <span class="conj-card-tip-text">å¦å®šçš„ãªçµæœã¸ã®è­¦å‘Šã€‚ä»®å®šæ³•ã§ã‚‚ä½¿ã‚ã‚Œã‚‹</span>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- ===== STUDY SECTION ===== -->
  <section class="study" id="study">
    <div class="study-header">
      <h2 class="study-title">Practice Questions</h2>
      <div class="study-controls">
        <div class="view-toggle">
          <button class="view-btn active" data-view="single" onclick="setView('single')">Single</button>
          <button class="view-btn" data-view="dual" onclick="setView('dual')">Split View</button>
        </div>
        <button class="ctrl-btn" onclick="openAll()">Open All</button>
        <button class="ctrl-btn" onclick="closeAll()">Close All</button>
      </div>
    </div>

    <div class="progress-wrap">
      <div class="progress-bar-bg">
        <div class="progress-bar-fill" id="progressBar"></div>
      </div>
      <p class="progress-label" id="progressText">0 / 39 answers revealed</p>
    </div>

    <div class="search-wrap">
      <span class="search-icon">ğŸ”</span>
      <input type="text" class="search-input" id="searchInput" placeholder="Search questions, grammar, vocabulary..." oninput="debouncedSearch()">
    </div>

    <div id="content"></div>
  </section>

  <footer>DUAL SCOPE English Grammar â€” Lesson 15: æ¥ç¶šè©</footer>

  <button class="fab" onclick="scrollToTop()" title="Back to top">â†‘</button>

<script>
const grammarData = {
  sections: [
    {
      title: "[1] åŸºæœ¬å•é¡Œ 1ï½œèªå¥é¸æŠ (1)ï½(7)",
      open: true,
      questions: [
        {
          num: "(1)",
          text: "Watch your step, (   ) you'll fall down the stairs.",
          choices: "é¸æŠè‚¢: and, or, but",
          vocab: [["watch your step", "è¶³å…ƒã«æ°—ã‚’ã¤ã‘ã‚‹"],["fall down", "è½ã¡ã‚‹ã€è»¢ã¶"],["stairs", "éšæ®µ"]],
          hint: ["æ–‡ã®æ§‹é€ ã‚’ç¢ºèªï¼šå‘½ä»¤æ–‡ + æ¥ç¶šè© + å¸°çµ","æ„å‘³ã‚’è€ƒãˆã‚‹ï¼šã€Œï½ã—ãªã•ã„ã€ãã†ã§ãªã„ã¨â€¦ã€","ã€Œã•ã‚‚ãªã„ã¨ã€ã¨ã„ã†å¦å®šçš„ãªçµæœã‚’ç¤ºã™æ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "or",
          translation: "è¶³å…ƒã«æ°—ã‚’ã¤ã‘ã¦ãã ã•ã„ï¼Œãã†ã§ãªã„ã¨éšæ®µã‹ã‚‰è½ã¡ã¾ã™ã‚ˆ",
          explanation: "orã¯ã€Œãã†ã§ãªã„ã¨ã€ã¨ã„ã†æ„å‘³ã§ã€å‰ã®å‘½ä»¤ã‚’å®ˆã‚‰ãªã‹ã£ãŸå ´åˆã®å¦å®šçš„ãªçµæœã‚’ç¤ºã—ã¾ã™ã€‚",
          grammar: "å‘½ä»¤æ–‡ + or = ï½ã—ãªã•ã„ã€ã•ã‚‚ãªã„ã¨â€¦",
          choiceExplanations: {
            "or": "â—‹ æ­£è§£ã€‚ã€Œå‘½ä»¤æ–‡ + orã€ã¯ã€Œï½ã—ãªã•ã„ã€ã•ã‚‚ãªã„ã¨â€¦ã€ã¨ã„ã†è­¦å‘Šã‚’è¡¨ã™ã€‚",
            "and": "Ã— ã€Œå‘½ä»¤æ–‡ + andã€ã¯ã€Œï½ã—ãªã•ã„ã€ãã†ã™ã‚Œã°â€¦ã€ã¨è‚¯å®šçš„ãªçµæœã‚’è¡¨ã™ã®ã§ä¸é©åˆ‡ã€‚",
            "but": "Ã— butã¯å‰å¾Œã‚’å¯¾æ¯”ã™ã‚‹æ¥ç¶šè©ã§ã€å‘½ä»¤æ–‡ã¨ã®æ§‹æ–‡ã§ã¯ä½¿ã‚ãªã„ã€‚"
          }
        },
        {
          num: "(2)",
          text: "Hurry up, (   ) you'll be in time for school.",
          choices: "é¸æŠè‚¢: and, or, but",
          vocab: [["hurry up", "æ€¥ã"],["in time for", "ï½ã«é–“ã«åˆã£ã¦"]],
          hint: ["æ–‡ã®æ§‹é€ ã‚’ç¢ºèªï¼šå‘½ä»¤æ–‡ + æ¥ç¶šè© + çµæœ","æ„å‘³ã‚’è€ƒãˆã‚‹ï¼šã€Œï½ã—ãªã•ã„ã€ãã†ã™ã‚Œã°â€¦ã€","è‚¯å®šçš„ãªçµæœã‚’å°ãæ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "and",
          translation: "æ€¥ããªã•ã„ï¼Œãã†ã™ã‚Œã°å­¦æ ¡ã«é–“ã«åˆã†ã‚ˆ",
          explanation: "andã¯å‰ã®å‘½ä»¤ã‚’å®Ÿè¡Œã—ãŸå ´åˆã®è‚¯å®šçš„ãªçµæœã‚’ç¤ºã—ã¾ã™ã€‚",
          grammar: "å‘½ä»¤æ–‡ + and = ï½ã—ãªã•ã„ã€ãã†ã™ã‚Œã°â€¦",
          choiceExplanations: {
            "and": "â—‹ æ­£è§£ã€‚ã€Œå‘½ä»¤æ–‡ + andã€ã¯ã€Œï½ã—ãªã•ã„ã€ãã†ã™ã‚Œã°â€¦ã€ã¨è‚¯å®šçš„çµæœã‚’è¡¨ã™ã€‚",
            "or": "Ã— ã€Œå‘½ä»¤æ–‡ + orã€ã¯å¦å®šçš„ãªçµæœï¼ˆè­¦å‘Šï¼‰ã‚’è¡¨ã™ã®ã§ã€æ–‡æ„ã«åˆã‚ãªã„ã€‚",
            "but": "Ã— butã¯å¯¾æ¯”ã‚’è¡¨ã™æ¥ç¶šè©ã§ã€ã“ã®æ§‹æ–‡ã§ã¯ä½¿ç”¨ã—ãªã„ã€‚"
          }
        },
        {
          num: "(3)",
          text: "I stood still, (   ) I didn't know what to do.",
          choices: "é¸æŠè‚¢: if, although, for",
          vocab: [["stand still", "ã˜ã£ã¨ç«‹ã£ã¦ã„ã‚‹"],["what to do", "ä½•ã‚’ã™ã¹ãã‹"]],
          hint: ["å‰ã®æ–‡ã¨å¾Œã®æ–‡ã®é–¢ä¿‚ã‚’è€ƒãˆã‚‹","å¾Œã®æ–‡ãŒå‰ã®æ–‡ã®ç†ç”±ãƒ»åŸå› ã‚’èª¬æ˜ã—ã¦ã„ã‚‹","ã€Œã¨ã„ã†ã®ã¯ï½ã ã‹ã‚‰ã€ã¨ã„ã†æ„å‘³ã®æ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "for",
          translation: "ç§ã¯ã˜ã£ã¨ç«‹ã£ã¦ã„ãŸï¼ã¨ã„ã†ã®ã¯ã©ã†ã—ãŸã‚‰ã„ã„ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸã‹ã‚‰ã ",
          explanation: "forã¯ç›´å‰ã«è¿°ã¹ãŸã“ã¨ã®åŸå› ãƒ»ç†ç”±ã‚’è¿½åŠ çš„ã«è¿°ã¹ã‚‹ç­‰ä½æ¥ç¶šè©ã§ã™ã€‚",
          grammar: "for = ã¨ã„ã†ã®ã¯ï½ã ã‹ã‚‰ï¼ˆè£œè¶³çš„ãªç†ç”±ï¼‰",
          choiceExplanations: {
            "for": "â—‹ æ­£è§£ã€‚forã¯è£œè¶³çš„ã«ç†ç”±ã‚’è¿°ã¹ã‚‹ç­‰ä½æ¥ç¶šè©ã€‚",
            "if": "Ã— ifã¯æ¡ä»¶ã‚’è¡¨ã™æ¥ç¶šè©ã§ã€ç†ç”±ã‚’è¡¨ã™ã“ã¨ã¯ã§ããªã„ã€‚",
            "although": "Ã— althoughã¯è­²æ­©ã‚’è¡¨ã—ã€ã€Œï½ã ã‘ã‚Œã©ã‚‚ã€ã¨ã„ã†é€†æ¥ã®æ„å‘³ã€‚"
          }
        },
        {
          num: "(4)",
          text: "(   ) you will succeed or not depends on your effort.",
          choices: "é¸æŠè‚¢: That, If, Whether",
          vocab: [["succeed", "æˆåŠŸã™ã‚‹"],["depend on", "ï½æ¬¡ç¬¬ã§ã‚ã‚‹"],["effort", "åŠªåŠ›"]],
          hint: ["æ–‡å…¨ä½“ã®æ§‹é€ ã‚’ç¢ºèªï¼šã€Œï½ã‹ã©ã†ã‹ã€ãŒä¸»èªã«ãªã£ã¦ã„ã‚‹","ã€Œor notã€ãŒã‚ã‚‹ã“ã¨ã«æ³¨ç›®","æ–‡é ­ã§ä¸»èªã‚’å½¢æˆã™ã‚‹æ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "Whether",
          translation: "ã‚ãªãŸãŒæˆåŠŸã™ã‚‹ã‹ã©ã†ã‹ã¯åŠªåŠ›æ¬¡ç¬¬ã ",
          explanation: "ä¸»èªã«ãªã‚Šæ–‡é ­ã«ãã‚‹å ´åˆã«ã¯ã€ifã§ã¯ãªãwhetherã‚’ç”¨ã„ã¾ã™ã€‚",
          grammar: "Whether S + V (or not) = SãŒï½ã‹ã©ã†ã‹",
          choiceExplanations: {
            "Whether": "â—‹ æ­£è§£ã€‚æ–‡é ­ã§ä¸»èªã«ãªã‚‹å ´åˆã¯whetherã‚’ä½¿ã†ã€‚or notã¨ã‚‚ç›¸æ€§ãŒè‰¯ã„ã€‚",
            "That": "Ã— thatç¯€ã¯ã€Œï½ã¨ã„ã†ã“ã¨ã€ã§ã€ã€Œï½ã‹ã©ã†ã‹ã€ã®æ„å‘³ã«ã¯ãªã‚‰ãªã„ã€‚",
            "If": "Ã— ifã¯æ–‡é ­ã§ä¸»èªã«ãªã‚‹ç¯€ã‚’å°ãã“ã¨ãŒã§ããªã„ã€‚"
          }
        },
        {
          num: "(5)",
          text: "She succeeded even (   ) she was young.",
          choices: "é¸æŠè‚¢: although, if, though",
          vocab: [["succeed", "æˆåŠŸã™ã‚‹"],["even though", "ï½ã ã‘ã‚Œã©ã‚‚ï¼ˆå¼·èª¿ï¼‰"],["young", "è‹¥ã„"]],
          hint: ["å‰å¾Œã®æ–‡ã®é–¢ä¿‚ï¼šã€Œè‹¥ã„ã€ã¨ã€ŒæˆåŠŸã€ã¨ã„ã†å¯¾æ¯”","ã€Œevenã€ã¨ã„ã†å¼·èª¿èªãŒã‚ã‚‹","è­²æ­©ã‚’è¡¨ã™æ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "though",
          translation: "å½¼å¥³ã¯è‹¥ã‹ã£ãŸãŒï¼ŒæˆåŠŸã—ãŸ",
          explanation: "å¼·èª¿ã™ã‚‹å ´åˆã¯even thoughã¨ãªã‚Šã€even althoughã¨ã¯è¨€ã„ã¾ã›ã‚“ã€‚",
          grammar: "even though = ï½ã ã‘ã‚Œã©ã‚‚ï¼ˆå¼·èª¿ã€å®Ÿéš›ã®äº‹å®Ÿï¼‰",
          choiceExplanations: {
            "though": "â—‹ æ­£è§£ã€‚even thoughã§ã€Œï½ã ã‘ã‚Œã©ã‚‚ã€ã¨å¼·èª¿ã•ã‚ŒãŸè­²æ­©ã‚’è¡¨ã™ã€‚",
            "although": "Ã— even althoughã¨ã„ã†è¡¨ç¾ã¯ä½¿ã‚ãªã„ã€‚althoughã¯evenã¨çµåˆã—ãªã„ã€‚",
            "if": "Ã— even ifã¯ã€ŒãŸã¨ãˆï½ã§ã‚‚ã€ã§ä»®å®šã®è­²æ­©ã€‚ã“ã“ã¯äº‹å®Ÿãªã®ã§ä¸é©åˆ‡ã€‚"
          }
        },
        {
          num: "(6)",
          text: "(   ) it grew darker, it snowed more and more.",
          choices: "é¸æŠè‚¢: As, Because, Since",
          vocab: [["grow dark", "æš—ããªã‚‹"],["more and more", "ã¾ã™ã¾ã™"],["snow", "é›ªãŒé™ã‚‹"]],
          hint: ["ä¸»ç¯€ã«ã€Œmore and moreã€ï¼ˆæ¯”è¼ƒç´šï¼‰ãŒã‚ã‚‹","2ã¤ã®å‹•ä½œãŒåŒæ™‚é€²è¡Œã—ã¦ã„ã‚‹","ã€Œï½ã™ã‚‹ã«ã¤ã‚Œã¦ã€ã¨ã„ã†æ„å‘³ã®æ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "As",
          translation: "æš—ããªã‚‹ã«ã¤ã‚Œã¦ï¼Œã¾ã™ã¾ã™é›ªãŒé™ã£ã¦ããŸ",
          explanation: "asç¯€ã«ã¯äº‹æ…‹ã®çµŒéã‚’è¡¨ã™è¡¨ç¾ãŒã€ä¸»ç¯€ã«ã¯æ¯”è¼ƒç´šã‚’ä¼´ã†è¡¨ç¾ãŒãã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚",
          grammar: "As S + V, S' + V'ï¼ˆæ¯”è¼ƒç´šï¼‰ = ï½ã™ã‚‹ã«ã¤ã‚Œã¦",
          choiceExplanations: {
            "As": "â—‹ æ­£è§£ã€‚Asã¯ã€Œï½ã™ã‚‹ã«ã¤ã‚Œã¦ã€ã¨æ¯”ä¾‹ãƒ»å¤‰åŒ–ã‚’è¡¨ã™ã€‚æ¯”è¼ƒç´šã¨ç›¸æ€§ãŒè‰¯ã„ã€‚",
            "Because": "Ã— Becauseã¯ç†ç”±ã‚’è¡¨ã™ã€‚ã€Œæš—ããªã£ãŸã‹ã‚‰é›ªãŒé™ã£ãŸã€ã¯æ„å‘³ãŒä¸è‡ªç„¶ã€‚",
            "Since": "Ã— Sinceã¯ç†ç”±ã¾ãŸã¯æ™‚ã‚’è¡¨ã™ãŒã€æ¯”ä¾‹ã®æ„å‘³ã¯ãªã„ã€‚"
          }
        },
        {
          num: "(7)",
          text: "(   ) you start reading the book, you cannot stop it.",
          choices: "é¸æŠè‚¢: Though, Whether, Once",
          vocab: [["start reading", "èª­ã¿å§‹ã‚ã‚‹"],["cannot stop", "ã‚„ã‚ã‚‰ã‚Œãªã„"],["once", "ã„ã£ãŸã‚“ï½ã™ã‚‹ã¨"]],
          hint: ["æ–‡ã®æ„å‘³ï¼šã€Œèª­ã¿å§‹ã‚ã‚‹ã€â†’ã€Œã‚„ã‚ã‚‰ã‚Œãªã„ã€","ã‚ã‚‹æ™‚ç‚¹ã‹ã‚‰ç¶™ç¶šã™ã‚‹çŠ¶æ…‹","ã€Œã„ã£ãŸã‚“ï½ã™ã‚‹ã¨ã€ã¨ã„ã†æ„å‘³ã®æ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "Once",
          translation: "ãã®æœ¬ã¯ã„ã£ãŸã‚“èª­ã¿å§‹ã‚ãŸã‚‰ï¼Œã‚„ã‚ã‚‰ã‚Œãªã„",
          explanation: "æ¥ç¶šè©ã®onceã¯ã€Œæ™‚ã€ã¨ã€Œæ¡ä»¶ã€ã®ä¸¡æ–¹ã®æ„å‘³ã‚’åˆã‚ã›ã‚‚ã¡ã¾ã™ã€‚",
          grammar: "Once S + V = ã„ã£ãŸã‚“ï½ã™ã‚‹ã¨",
          choiceExplanations: {
            "Once": "â—‹ æ­£è§£ã€‚ã€Œã„ã£ãŸã‚“ï½ã™ã‚‹ã¨ã€ã¨ã„ã†æ™‚ã¨æ¡ä»¶ã‚’è¡¨ã™æ¥ç¶šè©ã€‚",
            "Though": "Ã— Thoughã¯ã€Œï½ã ã‘ã‚Œã©ã‚‚ã€ã¨ã„ã†è­²æ­©ã§ã€æ–‡æ„ã«åˆã‚ãªã„ã€‚",
            "Whether": "Ã— Whetherã¯ã€Œï½ã‹ã©ã†ã‹ã€ã§ã€ã“ã“ã§ã¯æ„å‘³ãŒé€šã‚‰ãªã„ã€‚"
          }
        }
      ]
    },
    {
      title: "[2] åŸºæœ¬å•é¡Œ 2ï½œç©ºæ‰€è£œå…… (1)ï½(5)",
      open: false,
      questions: [
        {
          num: "(1)",
          text: "ã‚¢ãƒ³ã‚¸ã‚§ãƒ©ã®æ‰‹æ–™ç†ã¯ãŠã„ã—ã„ã—ï¼Œå¥åº·ã«ã‚‚ã‚ˆã„ï¼<br>Angela's homemade cooking is (   ) delicious (   ) healthy.",
          vocab: [["homemade", "æ‰‹ä½œã‚Šã®"],["delicious", "ãŠã„ã—ã„"],["healthy", "å¥åº·çš„ãª"],["both A and B", "Aã‚‚Bã‚‚"]],
          hint: ["2ã¤ã®å½¢å®¹è©ãŒä¸¦ã‚“ã§ã„ã‚‹","ä¸¡æ–¹ã¨ã‚‚è‚¯å®šçš„ãªæ„å‘³","ã€ŒAã‚‚Bã‚‚ã€ã‚’è¡¨ã™è¡¨ç¾ã‚’ä½¿ã†"],
          answer: "both, and",
          explanation: "2ã¤ã®è¦ç´ ã‚’ç­‰ã—ãå¼·èª¿ã™ã‚‹è¡¨ç¾ã§ã™ã€‚",
          grammar: "both A and B = Aã‚‚Bã‚‚"
        },
        {
          num: "(2)",
          text: "ãã‚Œã¯æ¯’ã«ã‚‚è–¬ã«ã‚‚ãªã‚‰ãªã„ï¼<br>That will do (   ) harm (   ) good.",
          vocab: [["do harm", "å®³ã‚’åŠã¼ã™"],["do good", "å½¹ã«ç«‹ã¤"],["neither A nor B", "Aã‚‚Bã‚‚ï½ãªã„"]],
          hint: ["æ—¥æœ¬èªã®æ„å‘³ï¼šã€Œæ¯’ã«ã‚‚è–¬ã«ã‚‚ãªã‚‰ãªã„ã€","harm ã‚‚ good ã‚‚å¦å®šã™ã‚‹","ã€ŒAã‚‚Bã‚‚ï½ãªã„ã€ã‚’è¡¨ã™è¡¨ç¾ã‚’ä½¿ã†"],
          answer: "neither, nor",
          explanation: "Aã¨Bã®ä¸¡æ–¹ã‚’æ‰“ã¡æ¶ˆã—ã¾ã™ã€‚",
          grammar: "neither A nor B = Aã‚‚Bã‚‚ï½ãªã„"
        },
        {
          num: "(3)",
          text: "å½¼å¥³ã¯ãƒã‚³å¥½ãã ã¨ã„ã†ç‚¹ã§æ¯è¦ªã«ä¼¼ã¦ã„ã‚‹ï¼<br>She takes after her mother (   ) (   ) she is fond of cats.",
          vocab: [["take after", "ï½ã«ä¼¼ã¦ã„ã‚‹"],["be fond of", "ï½ãŒå¥½ã"],["in that", "ï½ã¨ã„ã†ç‚¹ã§"]],
          hint: ["ã€Œï½ã¨ã„ã†ç‚¹ã§ã€ã¨ã„ã†é™å®šçš„ãªç†ç”±","ç‰¹å®šã®å´é¢ã§ã®é¡ä¼¼æ€§","ã€Œin thatã€ã§è¡¨ã™"],
          answer: "in that",
          explanation: "æ¥ç¶šè©thatãŒå°ãåè©ç¯€ã¯é€šå¸¸ã€å‰ç½®è©ã®ç›®çš„èªã«ã¯ãªã‚Šã¾ã›ã‚“ãŒã€ã€ˆin thatã€‰ãªã©ã¯ä¾‹å¤–ã§ã™ã€‚",
          grammar: "in that = ï½ã¨ã„ã†ç‚¹ã§"
        },
        {
          num: "(4)",
          text: "æ—¥æœ¬ã ã‘ã§ãªãä»–å›½ã‚‚ãã®æ±ºå®šã‚’æ”¯æŒã—ã¦ã„ã‚‹ï¼<br>Not (   ) Japan (   ) also other countries support the decision.",
          vocab: [["support", "æ”¯æŒã™ã‚‹"],["decision", "æ±ºå®š"],["not only A but also B", "Aã ã‘ã§ãªãBã‚‚"]],
          hint: ["ã€Œæ—¥æœ¬ã ã‘ã§ãªãä»–å›½ã‚‚ã€ã¨ã„ã†è¿½åŠ ","å¾Œè€…ã«é‡ç‚¹ãŒã‚ã‚‹","ã€Œnot only A but also Bã€ã‚’ä½¿ã†"],
          answer: "only[just], but",
          explanation: "Bã«é‡ç‚¹ã‚’ç½®ã„ãŸè¡¨ç¾ãªã®ã§ã€ä¸»èªã«ãªã£ãŸå ´åˆã€å‹•è©ã¯Bã«ä¸€è‡´ã•ã›ã¾ã™ã€‚",
          grammar: "not only A but (also) B = Aã ã‘ã§ãªãBã‚‚"
        },
        {
          num: "(5)",
          text: "ç§ãŸã¡ãŒå®¶ã«ç€ãã“ã‚ã«ã¯å¤•é£ŸãŒã§ãã¦ã„ã‚‹ã§ã—ã‚‡ã†ï¼<br>Dinner will be ready (   ) the (   ) we reach home.",
          vocab: [["be ready", "ç”¨æ„ãŒã§ãã¦ã„ã‚‹"],["reach home", "å®¶ã«ç€ã"],["by the time", "ï½ã™ã‚‹ã¾ã§ã«ã¯"]],
          hint: ["æœªæ¥ã®æ™‚ç‚¹ã§ã®å®Œäº†ã‚’è¡¨ã™","ã€Œï½ã™ã‚‹ã¾ã§ã«ã¯ã€ã¨ã„ã†æœŸé™","ã€Œby the timeã€ã§æœŸé™ã‚’è¡¨ã™"],
          answer: "by, time",
          explanation: "æ™‚ã‚’è¡¨ã™å‰¯è©ç¯€ãªã®ã§ã€ç¯€ä¸­ã§ã¯æœªæ¥ã®ã“ã¨ã§ã‚‚ç¾åœ¨å½¢ã§è¡¨ã™ã“ã¨ã«æ³¨æ„ã€‚",
          grammar: "by the time S + V = ï½ã™ã‚‹ã¾ã§ã«ã¯"
        }
      ]
    },
    {
      title: "[3] åŸºæœ¬å•é¡Œ 3ï½œä¸¦ã¹ã‹ãˆ (1)ï½(3)",
      open: false,
      questions: [
        {
          num: "(1)",
          text: "ã‚¢ãƒ³ã‚‚ä»²é–“ã«å…¥ã‚Œã‚‹ã‚ˆã†ã«ï¼Œè‹±èªã§è©±ã—ã¾ã—ã‚‡ã†ï¼",
          scramble: "Let's talk in English [ Ann, so, join, can, that, us ].",
          vocab: [["join", "åŠ ã‚ã‚‹"],["so that", "ï½ã§ãã‚‹ã‚ˆã†ã«"]],
          hint: ["ã€ŒAãŒï½ã§ãã‚‹ã‚ˆã†ã«ã€ã¨ã„ã†ç›®çš„","ã€Œso that A canã€ã®æ§‹æ–‡","èªé †ï¼šso that + ä¸»èª + can + å‹•è©"],
          answer: "so that Ann can join us",
          explanation: "ã€ŒAãŒï½ã§ãã‚‹ã‚ˆã†ã«ã€ã€ˆç›®çš„ã€‰ã¯ã€ˆso that A can ï½ã€‰ã§è¡¨ã—ã¾ã™ã€‚",
          grammar: "so that S + can do = SãŒï½ã§ãã‚‹ã‚ˆã†ã«"
        },
        {
          num: "(2)",
          text: "ç§ã‚’ã„ã‚‰ç«‹ãŸã›ãŸã®ã¯å½¼ã®è¨€è‘‰ã§ã¯ãªãï¼Œå½¼ã®æ…‹åº¦ã ã£ãŸï¼",
          scramble: "It [ but, his attitude, his words, not, that, was ] irritated me.",
          vocab: [["irritate", "ã„ã‚‰ç«‹ãŸã›ã‚‹"],["attitude", "æ…‹åº¦"]],
          hint: ["ã€ŒAã§ã¯ãªãBã€ã¨ã„ã†å¯¾æ¯”","å¼·èª¿æ§‹æ–‡ã‚’ä½¿ã†","ã€Œnot A but Bã€ã‚’å¼·èª¿æ§‹æ–‡ã«çµ„ã¿è¾¼ã‚€"],
          answer: "was not his words but his attitude that",
          explanation: "ã€ŒAã§ã¯ãªãã¦Bã€ã¯ã€ˆnot A but Bã€‰ã§è¡¨ã—ã¾ã™ã€‚å¼·èª¿æ§‹æ–‡ã¨çµ„ã¿åˆã‚ã›ã¦ã„ã¾ã™ã€‚",
          grammar: "It is/was not A but B that ~ = â€¦ãªã®ã¯Aã§ã¯ãªãBã "
        },
        {
          num: "(3)",
          text: "äººã¯ã¿ãªå¹³ç­‰ã ã¨ã„ã†è€ƒãˆãŒé ­ã«æµ®ã‹ã‚“ã ï¼",
          scramble: "The [ are, that, idea, occurred, all human beings, to me ] equal.",
          vocab: [["occur to", "ï½ã®é ­ã«æµ®ã‹ã¶"],["human beings", "äººé–“"],["equal", "å¹³ç­‰ãª"]],
          hint: ["ã€Œï½ã¨ã„ã†è€ƒãˆã€ã¨ã„ã†åŒæ ¼ã®thatç¯€","thatç¯€ãŒé•·ã„ã®ã§å¾Œç½®ã™ã‚‹","The idea occurred to me that ..."],
          answer: "idea occurred to me that all human beings are",
          explanation: "thatãŒå°ãåè©ç¯€ã¯ä¸»èªã®the ideaã®å†…å®¹ã‚’èª¬æ˜ã—ã€åŒæ ¼ã®é–¢ä¿‚ã«ãªã£ã¦ã„ã¾ã™ã€‚",
          grammar: "The idea occurred to me that S + V = ï½ã¨ã„ã†è€ƒãˆãŒæµ®ã‹ã‚“ã "
        }
      ]
    },
    {
      title: "[4] åŸºæœ¬å•é¡Œ 4ï½œè‹±æ–‡å’Œè¨³ (1)ï½(4)",
      open: false,
      questions: [
        {
          num: "(1)",
          text: "It is true that the doctor is over eighty, but he looks young.",
          vocab: [["It is true that", "ç¢ºã‹ã«ï½ã "],["over eighty", "80æ­³ã‚’éãã¦"],["look young", "è‹¥ãè¦‹ãˆã‚‹"]],
          translation: "ç¢ºã‹ã«ãã®åŒ»å¸«ã¯80æ­³ã‚’éãã¦ã„ã‚‹ãŒï¼Œè‹¥ãè¦‹ãˆã‚‹ï¼",
          explanation: "ã€ˆIt is true (that) ï½ but â€¦ã€‰ã¯ã€Œç¢ºã‹ã«ï½ã ãŒï¼Œã—ã‹ã—â€¦ã€ã¨ã„ã†ã€ˆè­²æ­©ã€‰ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "It is true (that) ~ but ... = ç¢ºã‹ã«ï½ã ãŒã€ã—ã‹ã—â€¦",
          answer: "ï¼ˆå’Œè¨³å•é¡Œï¼‰"
        },
        {
          num: "(2)",
          text: "As far as I can remember, his house is around here.",
          vocab: [["as far as", "ï½ã™ã‚‹é™ã‚Š"],["around here", "ã“ã®ã‚ãŸã‚Š"]],
          translation: "ç§ã®è¦šãˆã¦ã„ã‚‹é™ã‚Šï¼Œå½¼ã®å®¶ã¯ã“ã®ã‚ãŸã‚Šã ï¼",
          explanation: "ã€ˆas far as ï½ã€‰ã¯ã€ˆç¯„å›²ãƒ»ç¨‹åº¦ã€‰ã‚’ç¤ºã—ã€ã€Œï½ã™ã‚‹é™ã‚Šã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "as far as S + V = SãŒï½ã™ã‚‹é™ã‚Š",
          answer: "ï¼ˆå’Œè¨³å•é¡Œï¼‰"
        },
        {
          num: "(3)",
          text: "I was so tired that I couldn't continue to work any longer.",
          vocab: [["so ... that", "ã¨ã¦ã‚‚â€¦ãªã®ã§ï½"],["continue to work", "åƒãç¶šã‘ã‚‹"],["any longer", "ã‚‚ã¯ã‚„"]],
          translation: "ç§ã¯ã¨ã¦ã‚‚ç–²ã‚Œã¦ã„ãŸã®ã§ï¼Œã‚‚ã¯ã‚„åƒãç¶šã‘ã‚‹ã“ã¨ãŒã§ããªã‹ã£ãŸï¼",
          explanation: "ã€ˆsoï¼‹å½¢å®¹è©ï¼‹that ï½ã€‰ã®å½¢ã§ã€Œã¨ã¦ã‚‚â€¦ãªã®ã§ï½ã€ã¨ã„ã†ã€ˆçµæœã€‰ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "so + å½¢å®¹è© + that S + V = ã¨ã¦ã‚‚â€¦ãªã®ã§ï½",
          answer: "ï¼ˆå’Œè¨³å•é¡Œï¼‰"
        },
        {
          num: "(4)",
          text: "Since you know how hurt she was, you should apologize to her.",
          vocab: [["since", "ï½ãªã®ã ã‹ã‚‰"],["how hurt", "ã©ã‚“ãªã«å‚·ã¤ã„ãŸã‹"],["apologize to", "ï½ã«è¬ã‚‹"]],
          translation: "å½¼å¥³ãŒã©ã‚“ãªã«å‚·ã¤ã„ãŸã‹å›ã¯çŸ¥ã£ã¦ã„ã‚‹ã®ã ã‹ã‚‰ï¼Œå½¼å¥³ã«è¬ã‚‹ã¹ãã ï¼",
          explanation: "sinceã¯ã€Œï½ãªã®ã ã‹ã‚‰ã€ã¨åŸå› ãƒ»ç†ç”±ã«ã¤ã„ã¦è£œè¶³çš„ã«è¿°ã¹ã¾ã™ã€‚",
          grammar: "Since S + V, S' should ... = SãŒï½ãªã®ã ã‹ã‚‰ã€S'ã¯â€¦ã™ã¹ãã ",
          answer: "ï¼ˆå’Œè¨³å•é¡Œï¼‰"
        }
      ]
    },
    {
      title: "[5] åŸºæœ¬å•é¡Œ 5ï½œä¸¦ã¹ã‹ãˆ (1)ï½(5)",
      open: false,
      questions: [
        {
          num: "(1)",
          scramble: "It [ be, his cat, will, gets, not, before, long ] well.",
          text: "å½¼ã®ãƒã‚³ã¯ã¾ã‚‚ãªãå…ƒæ°—ã«ãªã‚‹ã§ã—ã‚‡ã†",
          vocab: [["It will not be long before", "ã¾ã‚‚ãªãï½ã ã‚ã†"],["get well", "å…ƒæ°—ã«ãªã‚‹"]],
          hint: ["ã€Œã¾ã‚‚ãªãã€ã¨ã„ã†è¿‘ã„æœªæ¥ã‚’è¡¨ã™æ§‹æ–‡","ã€ŒIt will not be long beforeã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ ","æ™‚ã‚’è¡¨ã™å‰¯è©ç¯€ã§ã¯ç¾åœ¨å½¢ã‚’ä½¿ã†"],
          answer: "will not be long before his cat gets",
          explanation: "ã€ˆIt will not be long before ï½ã€‰ã¯ã€Œã¾ã‚‚ãªãï½ã ã‚ã†ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "It will not be long before S + V = ã¾ã‚‚ãªãSãŒï½ã™ã‚‹ã ã‚ã†"
        },
        {
          num: "(2)",
          scramble: "It [ not, last night, that, the girl, until, was, was ] found safe.",
          text: "æ˜¨å¤œã«ãªã£ã¦åˆã‚ã¦ãã®å°‘å¥³ãŒç„¡äº‹ã«ç™ºè¦‹ã•ã‚ŒãŸ",
          vocab: [["not until", "ï½ã«ãªã£ã¦åˆã‚ã¦"],["be found safe", "ç„¡äº‹ã«ç™ºè¦‹ã•ã‚Œã‚‹"]],
          hint: ["ã€Œï½ã«ãªã£ã¦åˆã‚ã¦ã€ã¨ã„ã†å¼·èª¿","å¼·èª¿æ§‹æ–‡ã‚’ä½¿ã†","ã€Œnot untilã€ã‚’å¼·èª¿ã™ã‚‹å½¢"],
          answer: "was not until last night that the girl was",
          explanation: "ã€ˆIt is not until...that ï½ã€‰ã¯ã€Œâ€¦ã—ã¦åˆã‚ã¦ï½ã™ã‚‹ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "It is/was not until ... that S + V = â€¦ã—ã¦åˆã‚ã¦SãŒï½ã™ã‚‹"
        },
        {
          num: "(3)",
          scramble: "He is [ he, to, wins, a champion, us, whether ] or loses the game.",
          text: "ãã®è©¦åˆã«å‹ã£ã¦ã‚‚è² ã‘ã¦ã‚‚å½¼ã¯ç§ãŸã¡ã«ã¨ã£ã¦ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã ",
          vocab: [["champion", "ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³"],["win/lose the game", "è©¦åˆã«å‹ã¤/è² ã‘ã‚‹"]],
          hint: ["ã€Œå‹ã£ã¦ã‚‚è² ã‘ã¦ã‚‚ã€ã¨ã„ã†è­²æ­©","ã€Œwhether A or Bã€ã§ã€ŒAã§ã‚ã‚ã†ã¨Bã§ã‚ã‚ã†ã¨ã€","ä¸»ç¯€ã¨å‰¯è©ç¯€ã®æ§‹é€ ã‚’æ•´ç†"],
          answer: "a champion to us whether he wins",
          explanation: "ã“ã®ã€ˆwhether A or Bã€‰ã¯å‰¯è©ç¯€ã‚’å°ãã€ã€ŒAã§ã‚ã‚ã†ã¨Bã§ã‚ã‚ã†ã¨ã€ã¨ã„ã†ã€Œè­²æ­©ã€ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "S + V whether A or B = Aã§ã‚ã‚ã†ã¨Bã§ã‚ã‚ã†ã¨Sã¯ï½"
        },
        {
          num: "(4)",
          scramble: "It [ day, a, that, such, nice, was ] the park was full of people.",
          text: "ã¨ã¦ã‚‚å¤©æ°—ã®ã‚ˆã„æ—¥ã ã£ãŸã®ã§ï¼Œå…¬åœ’ã¯äººã§ã„ã£ã±ã„ã ã£ãŸ",
          vocab: [["such a nice day", "ã¨ã¦ã‚‚è‰¯ã„å¤©æ°—ã®æ—¥"],["be full of", "ï½ã§ã„ã£ã±ã„ã§ã‚ã‚‹"]],
          hint: ["çµæœã‚’è¡¨ã™æ§‹æ–‡","åè©ã‚’å«ã‚€ã®ã§ã€Œsuchã€ã‚’ä½¿ã†","ã€Œsuch a + å½¢å®¹è© + åè© + thatã€"],
          answer: "was such a nice day that",
          explanation: "ã€ˆsuch aï¼‹å½¢å®¹è©ï¼‹åè©ï¼‹thatï½ã€‰ã§ã€Œã¨ã¦ã‚‚â€¦ãªã®ã§ï½ã€ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "such a/an + å½¢å®¹è© + åè© + that S + V = ã¨ã¦ã‚‚â€¦ãªã®ã§ï½"
        },
        {
          num: "(5)",
          scramble: "I [ impossible, it, lose, that, think, this team, will ] the game.",
          text: "ã“ã®ãƒãƒ¼ãƒ ãŒè©¦åˆã«è² ã‘ã‚‹ã“ã¨ã¯ã‚ã‚Šãˆãªã„ã¨æ€ã†",
          vocab: [["impossible", "ä¸å¯èƒ½ãª"],["lose the game", "è©¦åˆã«è² ã‘ã‚‹"]],
          hint: ["ã€ŒS + V + O + Cã€ã®ç¬¬5æ–‡å‹","thatç¯€ãŒé•·ã„ã®ã§å½¢å¼ç›®çš„èªitã‚’ä½¿ã†","ã€Œthink + it + C + that ~ã€ã®èªé †"],
          answer: "think it impossible that this team will lose",
          explanation: "ã€ˆthinkï¼‹itï¼‹Cï¼‹that ï½ã€‰ã§ã€Œï½ã¨ã„ã†ã“ã¨ã‚’Cã¨æ€ã†ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "S + think + it + C + that ~ = Sã¯ï½ã¨ã„ã†ã“ã¨ã‚’Cã¨æ€ã†"
        }
      ]
    },
    {
      title: "[6] FOR COMMUNICATION (1)ï½(3)",
      open: false,
      questions: [
        {
          num: "(1)",
          text: "Aï¼šDo you know what Miki's secret is?<br>Bï¼šYes. I don't want to tell it to you, (   ).",
          choices: "a. althoughã€€b. thoughã€€c. butã€€d. for",
          vocab: [["secret", "ç§˜å¯†"],["thoughï¼ˆå‰¯è©ç”¨æ³•ï¼‰", "ã§ã‚‚ï¼ˆæ–‡æœ«ï¼‰"]],
          hint: ["æ–‡æœ«ã«ç½®ã‘ã‚‹è­²æ­©ã®è¡¨ç¾","althoughã¯æ–‡æœ«ã«ç½®ã‘ãªã„","thoughã¯å‰¯è©ã¨ã—ã¦æ–‡æœ«ã«ä½¿ãˆã‚‹"],
          answer: "b. though",
          translation: "Aã€Œå›ã¯ãƒŸã‚­ã®ç§˜å¯†ãŒä½•ã‹çŸ¥ã£ã¦ã‚‹ã®ã€Bã€Œã†ã‚“ï¼ã§ã‚‚ï¼Œå›ã«ã¯æ•™ãˆãŸããªã„ã‚“ã ã€",
          explanation: "ã€Œè­²æ­©ã€ã‚’è¡¨ã™æ¥ç¶šè©thoughãŒå‰¯è©ã¨ã—ã¦ä½¿ã‚ã‚Œã€æ–‡æœ«ã«ç½®ã‹ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚",
          grammar: "thoughï¼ˆå‰¯è©ç”¨æ³•ï¼‰= ã§ã‚‚ã€ã‘ã‚Œã©ã‚‚ï¼ˆæ–‡æœ«ï¼‰",
          choiceExplanations: {
            "b. though": "â—‹ æ­£è§£ã€‚thoughã¯å‰¯è©ã¨ã—ã¦æ–‡æœ«ã«ç½®ã‘ã€ã€Œã§ã‚‚ã€ã¨ã„ã†æ„å‘³ã«ãªã‚‹ã€‚",
            "a. although": "Ã— althoughã¯æ–‡æœ«ã«ç½®ãã“ã¨ãŒã§ããªã„ã€‚æ¥ç¶šè©ã¨ã—ã¦ã®ã¿ä½¿ç”¨ã€‚",
            "c. but": "Ã— butã¯ç­‰ä½æ¥ç¶šè©ã§ã€æ–‡æœ«ã«å˜ç‹¬ã§ç½®ãã“ã¨ã¯ã§ããªã„ã€‚",
            "d. for": "Ã— forã¯ç†ç”±ã‚’è¡¨ã™æ¥ç¶šè©ã§ã€æ–‡æœ«ã«ã¯ç½®ã‘ãªã„ã€‚"
          }
        },
        {
          num: "(2)",
          text: "Aï¼šWhat do you want to have as a pet?<br>Bï¼šI love dogs, (   ) my mother doesn't want to keep pets.",
          choices: "a. whileã€€b. soã€€c. forã€€d. or",
          vocab: [["pet", "ãƒšãƒƒãƒˆ"],["keep pets", "ãƒšãƒƒãƒˆã‚’é£¼ã†"],["while", "ï½ãªã®ã«"]],
          hint: ["ã€ŒçŠ¬ãŒå¥½ãã€ã¨ã€Œæ¯ã¯é£¼ã„ãŸããªã„ã€ã®å¯¾æ¯”","ã€Œï½ãªã®ã«ã€ä¸€æ–¹ã§ã¯ï½ã€ã¨ã„ã†è­²æ­©","whileã®è­²æ­©ç”¨æ³•"],
          answer: "a. while",
          translation: "Aã€Œãƒšãƒƒãƒˆã¨ã—ã¦ä½•ã‚’é£¼ã„ãŸã„ã®ã€Bã€Œåƒ•ã¯çŠ¬ãŒå¤§å¥½ããªã‚“ã ã‘ã©ï¼ŒãŠæ¯ã•ã‚“ã¯ãƒšãƒƒãƒˆã‚’é£¼ã„ãŸããªã„ã‚“ã ã‚ˆã€",
          explanation: "whileãŒã€Œï½ãªã®ã«ï¼Œä¸€æ–¹ã§ã¯ï½ã€ã¨ã„ã†ã€Œè­²æ­©ã€ã®æ„å‘³ã‚’è¡¨ã™å ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
          grammar: "while = ï½ãªã®ã«ã€ä¸€æ–¹ã§ã¯ï½",
          choiceExplanations: {
            "a. while": "â—‹ æ­£è§£ã€‚whileã¯ã€Œï½ãªã®ã«ã€ã¨å¯¾æ¯”ãƒ»è­²æ­©ã‚’è¡¨ã™ã“ã¨ãŒã§ãã‚‹ã€‚",
            "b. so": "Ã— soã¯ã€Œã ã‹ã‚‰ã€ã¨çµæœã‚’è¡¨ã™ã€‚å‰å¾Œã®é–¢ä¿‚ãŒé€†ã«ãªã‚‹ã€‚",
            "c. for": "Ã— forã¯ç†ç”±ã‚’è¿½åŠ ã™ã‚‹æ¥ç¶šè©ã€‚ã“ã“ã§ã¯æ–‡æ„ã«åˆã‚ãªã„ã€‚",
            "d. or": "Ã— orã¯ã€Œã¾ãŸã¯ã€ã§é¸æŠã‚’è¡¨ã—ã€å¯¾æ¯”ã®æ„å‘³ã«ã¯ãªã‚‰ãªã„ã€‚"
          }
        },
        {
          num: "(3)",
          text: "Aï¼šJim, take an umbrella with you (   ) it rains.<br>Bï¼šAll right. I will.",
          choices: "a. even ifã€€b. if onlyã€€c. in caseã€€d. so that",
          vocab: [["take an umbrella", "å‚˜ã‚’æŒã£ã¦è¡Œã"],["in case", "ï½ã™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰"]],
          hint: ["ã€Œé›¨ãŒé™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰ã€ã¨ã„ã†å‚™ãˆ","æœªç„¶ã®äº‹æ…‹ã¸ã®å‚™ãˆã‚’è¡¨ã™","ã€Œin caseã€ã‚’ä½¿ã†"],
          answer: "c. in case",
          translation: "Aã€Œã‚¸ãƒ ï¼Œé›¨ãŒé™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰ï¼Œå‚˜ã‚’æŒã£ã¦è¡Œã£ã¦ã­ã€Bã€Œã‚ã‹ã£ãŸï¼ãã†ã™ã‚‹ã‚ˆã€",
          explanation: "ã€ˆin case ï½ã€‰ã¯ã€Œï½ã™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰ã€ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "in case S + V = SãŒï½ã™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰",
          choiceExplanations: {
            "c. in case": "â—‹ æ­£è§£ã€‚ã€Œï½ã™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰ã€ã¨å‚™ãˆã‚’è¡¨ã™ã€‚",
            "a. even if": "Ã— ã€ŒãŸã¨ãˆï½ã§ã‚‚ã€ã¨ã„ã†ä»®å®šã®è­²æ­©ã§ã€æ–‡æ„ã«åˆã‚ãªã„ã€‚",
            "b. if only": "Ã— ã€Œï½ã•ãˆã™ã‚Œã°ã€ã¨ã„ã†é¡˜æœ›ã‚’è¡¨ã—ã€æ„å‘³ãŒç•°ãªã‚‹ã€‚",
            "d. so that": "Ã— ã€Œï½ã™ã‚‹ãŸã‚ã«ã€ã¨ã„ã†ç›®çš„ã‚’è¡¨ã™ã€‚å‚™ãˆã®æ„å‘³ã«ãªã‚‰ãªã„ã€‚"
          }
        }
      ]
    },
    {
      title: "[ç™ºå±•1] èªå¥é¸æŠ (1)ï½(7)",
      open: false,
      questions: [
        {
          num: "(1)",
          text: "She will not sign the contract (   ) these conditions are met.ã€ååŸå¤§ã€‘",
          choices: "a. in place ofã€€b. instead ofã€€c. despiteã€€d. unless",
          vocab: [["sign the contract", "å¥‘ç´„æ›¸ã«ã‚µã‚¤ãƒ³ã™ã‚‹"],["conditions are met", "æ¡ä»¶ãŒæº€ãŸã•ã‚Œã‚‹"],["unless", "ï½ã§ãªã„é™ã‚Š"]],
          hint: ["å¦å®šæ–‡ + æ¡ä»¶ç¯€ã®æ§‹é€ ","ã€Œæ¡ä»¶ãŒæº€ãŸã•ã‚Œãªã„å ´åˆã€ã¨ã„ã†æ„å‘³","ã€Œã‚‚ã—ï½ã§ãªã„ãªã‚‰ã€ã‚’è¡¨ã™æ¥ç¶šè©ã‚’é¸ã¶"],
          answer: "d. unless",
          translation: "ã“ã‚Œã‚‰ã®æ¡ä»¶ãŒæº€ãŸã•ã‚Œãªã‘ã‚Œã°ï¼Œå½¼å¥³ã¯å¥‘ç´„æ›¸ã«ã‚µã‚¤ãƒ³ã—ãªã„ã ã‚ã†",
          explanation: "unlessã¯ã€Œã‚‚ã—ï½ã§ãªã„ãªã‚‰ã€ã€Œï½ã§ãªã„é™ã‚Šã€ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "unless S + V = ã‚‚ã—ï½ã§ãªã„ãªã‚‰",
          choiceExplanations: {
            "d. unless": "â—‹ æ­£è§£ã€‚ã€Œï½ã§ãªã„é™ã‚Šã€ã¨ã„ã†å¦å®šæ¡ä»¶ã‚’è¡¨ã™æ¥ç¶šè©ã€‚",
            "a. in place of": "Ã— ã€Œï½ã®ä»£ã‚ã‚Šã«ã€ã¨ã„ã†å‰ç½®è©å¥ã§ã€æ¥ç¶šè©ã§ã¯ãªã„ã€‚",
            "b. instead of": "Ã— ã€Œï½ã®ä»£ã‚ã‚Šã«ã€ã¨ã„ã†å‰ç½®è©å¥ã§ã€ç¯€ã‚’å°ã‘ãªã„ã€‚",
            "c. despite": "Ã— ã€Œï½ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€ã¨ã„ã†å‰ç½®è©ã§ã€ç¯€ã‚’å°ã‘ãªã„ã€‚"
          }
        },
        {
          num: "(2)",
          text: "As (   ) as I know, he has never done such a terrible thing.ã€é–¢è¥¿å­¦é™¢å¤§ã€‘",
          choices: "a. soonã€€b. longã€€c. farã€€d. much",
          vocab: [["as far as I know", "ç§ã®çŸ¥ã£ã¦ã„ã‚‹é™ã‚Š"],["terrible", "ã²ã©ã„"]],
          hint: ["ã€Œï½ã™ã‚‹é™ã‚Šã€ã¨ã„ã†ç¯„å›²ã®è¡¨ç¾","çŸ¥è­˜ã®ç¯„å›²ã‚’ç¤ºã™æ…£ç”¨å¥","ã€Œas far asã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ "],
          answer: "c. far",
          translation: "ç§ã®çŸ¥ã£ã¦ã„ã‚‹é™ã‚Šï¼Œå½¼ã¯ã“ã®ã‚ˆã†ãªã²ã©ã„ã“ã¨ã¯æ±ºã—ã¦ã—ãŸã“ã¨ãŒãªã„",
          explanation: "ã€ˆas far as ï½ã€‰ã¯ã€ˆç¯„å›²ãƒ»ç¨‹åº¦ã€‰ã‚’ç¤ºã—ã€ã€Œï½ã™ã‚‹é™ã‚Šã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "as far as S + V = SãŒï½ã™ã‚‹é™ã‚Š",
          choiceExplanations: {
            "c. far": "â—‹ æ­£è§£ã€‚as far as ï½ã§ã€Œï½ã™ã‚‹é™ã‚Šã€ã¨ç¯„å›²ã‚’è¡¨ã™ã€‚",
            "a. soon": "Ã— as soon asã¯ã€Œï½ã™ã‚‹ã¨ã™ãã«ã€ã§æ™‚ã‚’è¡¨ã—ã€ç¯„å›²ã§ã¯ãªã„ã€‚",
            "b. long": "Ã— as long asã¯ã€Œï½ã™ã‚‹é™ã‚Šã€ã ãŒã€æ¡ä»¶ã‚’è¡¨ã™ã€‚çŸ¥è­˜ã®ç¯„å›²ã«ã¯ä¸é©åˆ‡ã€‚",
            "d. much": "Ã— as much asã¯ã€Œï½ã¨åŒã˜ãã‚‰ã„ã€ã§ç¨‹åº¦ã‚’è¡¨ã™ã€‚"
          }
        },
        {
          num: "(3)",
          text: "Please call me the (   ) you hear anything from the hospital.ã€è‡ªæ²»åŒ»å¤§ã€‘",
          choices: "a. minuteã€€b. monthã€€c. seasonã€€d. year",
          vocab: [["call", "é›»è©±ã™ã‚‹"],["hear from", "ï½ã‹ã‚‰é€£çµ¡ã‚’ã‚‚ã‚‰ã†"],["the minute", "ï½ã™ã‚‹ã¨ã™ãã«"]],
          hint: ["ã€Œï½ã™ã‚‹ã¨ã™ãã«ã€ã¨ã„ã†å³æ™‚æ€§","æ™‚é–“ã‚’è¡¨ã™åè©ãŒæ¥ç¶šè©ã¨ã—ã¦æ©Ÿèƒ½","ã€Œthe minuteã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ "],
          answer: "a. minute",
          translation: "ç—…é™¢ã‹ã‚‰ä½•ã‹ã‚’èã„ãŸã‚‰ã™ãã«ï¼Œç§ã«é›»è©±ã—ã¦ãã ã•ã„",
          explanation: "ã€ˆthe minute ï½ã€‰ã§ã€Œï½ã™ã‚‹ã¨ã™ãã«ã€ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "the minute S + V = SãŒï½ã™ã‚‹ã¨ã™ãã«",
          choiceExplanations: {
            "a. minute": "â—‹ æ­£è§£ã€‚the minuteã¯ã€Œï½ã™ã‚‹ã¨ã™ãã«ã€ã¨ã„ã†å³æ™‚æ€§ã‚’è¡¨ã™ã€‚",
            "b. month": "Ã— the monthã¨ã„ã†æ¥ç¶šè©çš„ç”¨æ³•ã¯ãªã„ã€‚",
            "c. season": "Ã— the seasonã¨ã„ã†æ¥ç¶šè©çš„ç”¨æ³•ã¯ãªã„ã€‚",
            "d. year": "Ã— the yearã¨ã„ã†æ¥ç¶šè©çš„ç”¨æ³•ã¯ãªã„ã€‚"
          }
        },
        {
          num: "(4)",
          text: "Don't touch my writing table; leave it (   ) it is.ã€ä¸­å¤®å¤§ã€‘",
          choices: "a. asã€€b. ifã€€c. thatã€€d. when",
          vocab: [["writing table", "æ›¸ãç‰©ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«"],["leave", "ï½ã®ã¾ã¾ã«ã—ã¦ãŠã"],["as it is", "ãã®ã¾ã¾"]],
          hint: ["ã€Œï½ã®ã¾ã¾ã«ã€ã¨ã„ã†çŠ¶æ…‹ã®ç¶­æŒ","æ§˜æ…‹ã‚’è¡¨ã™æ¥ç¶šè©","ã€Œas it isã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ "],
          answer: "a. as",
          translation: "ç§ã®æ›¸ãç‰©ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ã•ã‚ã‚‰ãªã„ã§ï¼ãã®ã¾ã¾ã«ã—ã¦ãŠã„ã¦",
          explanation: "ã€Œæ§˜æ…‹ã€ã‚’è¡¨ã™æ¥ç¶šè©asã¯ã€Œï½(ã™ã‚‹)ã‚ˆã†ã«ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "as S + V = SãŒï½ã™ã‚‹ã‚ˆã†ã« / as it is = ãã®ã¾ã¾",
          choiceExplanations: {
            "a. as": "â—‹ æ­£è§£ã€‚as it isã§ã€Œãã®ã¾ã¾ã€ã¨ã„ã†æ§˜æ…‹ã‚’è¡¨ã™ã‚¤ãƒ‡ã‚£ã‚ªãƒ ã€‚",
            "b. if": "Ã— if it isã¯æ¡ä»¶ã‚’è¡¨ã—ã€ã€Œãã®ã¾ã¾ã€ã®æ„å‘³ã«ãªã‚‰ãªã„ã€‚",
            "c. that": "Ã— that it isã¨ã„ã†ç”¨æ³•ã¯ã“ã®æ–‡è„ˆã§ã¯ä¸é©åˆ‡ã€‚",
            "d. when": "Ã— when it isã¯æ™‚ã‚’è¡¨ã—ã€æ§˜æ…‹ã®æ„å‘³ã«ãªã‚‰ãªã„ã€‚"
          }
        },
        {
          num: "(5)",
          text: "(   ) our teacher is ill, we shall have to study by ourselves.ã€æˆåŸå¤§ã€‘",
          choices: "a. Even ifã€€b. Thoughã€€c. Now thatã€€d. However",
          vocab: [["be ill", "ç—…æ°—ã§ã‚ã‚‹"],["study by ourselves", "è‡ªç¿’ã™ã‚‹"],["now that", "ï½ãªã®ã§"]],
          hint: ["æ—¢çŸ¥ã®äº‹å®Ÿã¨ã—ã¦ã®ç†ç”±","ã€Œï½ãªã®ã ã‹ã‚‰ã€ã¨ã„ã†å› æœé–¢ä¿‚","ç¾åœ¨ã®çŠ¶æ³ã«åŸºã¥ãç†ç”±ã‚’ç¤ºã™"],
          answer: "c. Now that",
          translation: "å…ˆç”ŸãŒç—…æ°—ãªã®ã ã‹ã‚‰ï¼Œç§ãŸã¡ã¯è‡ªç¿’ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã ã‚ã†",
          explanation: "ã€ˆnow (that) ï½ã€‰ã¯ã€Œ(ä»Šã‚„ã‚‚ã†)ï½ãªã®ã§ã€ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "now (that) S + V = ï½ãªã®ã§",
          choiceExplanations: {
            "c. Now that": "â—‹ æ­£è§£ã€‚ã€Œï½ãªã®ã ã‹ã‚‰ã€ã¨æ—¢çŸ¥ã®äº‹å®Ÿã«åŸºã¥ãç†ç”±ã‚’è¡¨ã™ã€‚",
            "a. Even if": "Ã— ã€ŒãŸã¨ãˆï½ã§ã‚‚ã€ã¨ä»®å®šã®è­²æ­©ã§ã€ç†ç”±ã«ãªã‚‰ãªã„ã€‚",
            "b. Though": "Ã— ã€Œï½ã ã‘ã‚Œã©ã‚‚ã€ã¨è­²æ­©ã§ã€å› æœé–¢ä¿‚ã‚’è¡¨ã•ãªã„ã€‚",
            "d. However": "Ã— å‰¯è©ã§ã€Œã—ã‹ã—ãªãŒã‚‰ã€ã€‚æ¥ç¶šè©ã¨ã—ã¦ç¯€ã‚’å°ã‘ãªã„ã€‚"
          }
        },
        {
          num: "(6)",
          text: "It won't be long (   ) we see each other again.ã€åºƒå³¶å·¥æ¥­å¤§ã€‘",
          choices: "a. beforeã€€b. afterã€€c. whenã€€d. soon",
          vocab: [["It won't be long before", "ã¾ã‚‚ãªãï½ã ã‚ã†"],["see each other", "ãŠäº’ã„ã«ä¼šã†"]],
          hint: ["ã€Œã¾ã‚‚ãªãã€ã¨ã„ã†è¿‘ã„æœªæ¥","ã€ŒIt won't be long beforeã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ ","æ™‚ã‚’è¡¨ã™å‰¯è©ç¯€ã§ã¯ç¾åœ¨å½¢"],
          answer: "a. before",
          translation: "ç§ãŸã¡ã¯ã¾ã‚‚ãªãã¾ãŸãŠäº’ã„ã«ä¼šã†ã§ã—ã‚‡ã†",
          explanation: "ã€ˆIt won't be long before ï½ã€‰ã¯ã€Œã¾ã‚‚ãªãï½ã ã‚ã†ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "It won't be long before S + V = ã¾ã‚‚ãªãSãŒï½ã™ã‚‹ã ã‚ã†",
          choiceExplanations: {
            "a. before": "â—‹ æ­£è§£ã€‚It won't be long beforeã§ã€Œã¾ã‚‚ãªãï½ã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ ã€‚",
            "b. after": "Ã— It won't be long afterã¨ã„ã†è¡¨ç¾ã¯ä½¿ã‚ãªã„ã€‚",
            "c. when": "Ã— It won't be long whenã¨ã„ã†è¡¨ç¾ã¯ä½¿ã‚ãªã„ã€‚",
            "d. soon": "Ã— soonã¯å‰¯è©ã§ã€ã“ã“ã§ã¯æ¥ç¶šè©ãŒå¿…è¦ã€‚"
          }
        },
        {
          num: "(7)",
          text: "I had hardly gone out of the house (   ) I heard a telephone ringing.ã€ååŸå¤§ã€‘",
          choices: "a. ifã€€b. sinceã€€c. thanã€€d. when",
          vocab: [["go out of", "ï½ã‹ã‚‰å‡ºã‚‹"],["hear ... ringing", "ï½ãŒé³´ã‚‹ã®ãŒèã“ãˆã‚‹"],["hardly ... when", "ï½ã™ã‚‹ã‹ã—ãªã„ã†ã¡ã«"]],
          hint: ["ã€Œhardlyã€ã¨ã„ã†å‰¯è©ã«æ³¨ç›®","2ã¤ã®å‹•ä½œãŒã»ã¼åŒæ™‚","ã€Œhardly ... whenã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ "],
          answer: "d. when",
          translation: "ç§ãŒå®¶ã‹ã‚‰å‡ºãŸã¨ãŸã‚“ã«ï¼Œé›»è©±ãŒé³´ã‚‹ã®ãŒèã“ãˆãŸ",
          explanation: "ã€ˆhardlyâ€¦when ï½ã€‰ã§ã€Œâ€¦ã™ã‚‹ã‹ã—ãªã„ã†ã¡ã«ï½ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "S + had hardly + éå»åˆ†è© + when + éå»å½¢ = ï½ã™ã‚‹ã¨ã™ãã«â€¦ã—ãŸ",
          choiceExplanations: {
            "d. when": "â—‹ æ­£è§£ã€‚hardly...whenã§ã€Œï½ã™ã‚‹ã‹ã—ãªã„ã†ã¡ã«ã€ã®ã‚¤ãƒ‡ã‚£ã‚ªãƒ ã€‚",
            "a. if": "Ã— hardly...ifã¨ã„ã†è¡¨ç¾ã¯ãªã„ã€‚",
            "b. since": "Ã— hardly...sinceã¨ã„ã†è¡¨ç¾ã¯ãªã„ã€‚",
            "c. than": "Ã— no sooner...thanã¨æ··åŒã—ãªã„ã“ã¨ã€‚hardlyã«ã¯whenã‚’ä½¿ã†ã€‚"
          }
        }
      ]
    },
    {
      title: "[ç™ºå±•2] èª¤ã‚Šè¨‚æ­£ (1)ï½(3)",
      open: false,
      questions: [
        {
          num: "(1)",
          text: "John is <u>a. so</u> a good hairdresser <u>b. that</u> I always <u>c. have</u> my hair <u>d. cut</u> at his salon.ã€æ±äº¬ç†ç§‘å¤§ã€‘",
          vocab: [["hairdresser", "ç¾å®¹å¸«"],["have my hair cut", "é«ªã‚’åˆ‡ã£ã¦ã‚‚ã‚‰ã†"],["salon", "ç¾å®¹å®¤"]],
          hint: ["åè©ï¼ˆhairdresserï¼‰ãŒã‚ã‚‹ã“ã¨ã«æ³¨ç›®","åè©ãŒã‚ã‚‹å ´åˆã¯ã€Œsuchã€ã‚’ä½¿ã†","ã€Œso + å½¢å®¹è©ã€vsã€Œsuch + åè©ã€"],
          answer: "a. so â†’ such",
          translation: "ã‚¸ãƒ§ãƒ³ã¯éå¸¸ã«ä¸Šæ‰‹ãªç¾å®¹å¸«ãªã®ã§ç§ã¯ã„ã¤ã‚‚å½¼ã®ç¾å®¹å®¤ã§é«ªã‚’åˆ‡ã£ã¦ã‚‚ã‚‰ã†",
          explanation: "åè©ãŒã‚ã‚‹å ´åˆã¯ã€ˆsuch aï¼‹å½¢å®¹è©ï¼‹åè©ï¼‹that ï½ã€‰ã‚’ä½¿ã„ã¾ã™ã€‚",
          grammar: "such a/an + å½¢å®¹è© + åè© + that S + V"
        },
        {
          num: "(2)",
          text: "I'll <u>a. draw</u> a map <u>b. for</u> you <u>c. at case</u> you can't <u>d. find</u> our house.ã€æœ­å¹Œå­¦é™¢å¤§ã€‘",
          vocab: [["draw a map", "åœ°å›³ã‚’æã"],["find", "è¦‹ã¤ã‘ã‚‹"],["in case", "ï½ã™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰"]],
          hint: ["ã€Œï½ã™ã‚‹å ´åˆã«å‚™ãˆã¦ã€ã¨ã„ã†è¡¨ç¾","ã€Œin caseã€ãŒæ­£ã—ã„å½¢","ã€Œat caseã€ã¯èª¤ã‚Š"],
          answer: "c. at case â†’ in case",
          translation: "ç§ãŸã¡ã®å®¶ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã¨ã„ã‘ãªã„ã‹ã‚‰ï¼Œåœ°å›³ã‚’æã„ã¦ã‚ã’ã¾ã—ã‚‡ã†",
          explanation: "ã€ˆin case Sï¼‹V ï½ã€‰ã§ã€ŒSãŒï½ã™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰ã€ã®æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "in case S + V = SãŒï½ã™ã‚‹ã¨ã„ã‘ãªã„ã‹ã‚‰"
        },
        {
          num: "(3)",
          text: "<u>a. Though</u> he was tired after working <u>b. hard</u>, <u>c. but</u> he went to the <u>d. movies</u> with his friends.ã€æ±äº¬è–¬ç§‘å¤§ã€‘",
          vocab: [["tired", "ç–²ã‚ŒãŸ"],["work hard", "ä¸€ç”Ÿæ‡¸å‘½åƒã"],["go to the movies", "æ˜ ç”»ã‚’è¦‹ã«è¡Œã"]],
          hint: ["ã€Œthoughã€ã¨ã€Œbutã€ã¯åŒæ™‚ã«ä½¿ãˆãªã„","thoughãŒæ¥ç¶šè©ãªã®ã§butã¯ä¸è¦","cã®butã‚’å‰Šé™¤"],
          answer: "c. but â†’ å‰Šé™¤ï¼ˆheã«å¤‰æ›´ï¼‰",
          translation: "å½¼ã¯ä¸€ç”Ÿæ‡¸å‘½åƒã„ãŸå¾Œã§ç–²ã‚Œã¦ã„ãŸã‘ã‚Œã©ã‚‚ï¼Œå‹äººãŸã¡ã¨æ˜ ç”»ã‚’è¦‹ã«è¡Œã£ãŸ",
          explanation: "thoughã¨butã‚’åŒæ™‚ã«ä½¿ã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚",
          grammar: "though ã¨ but ã¯åŒæ™‚ã«ä½¿ãˆãªã„"
        }
      ]
    },
    {
      title: "[ç™ºå±•3] è‹±ä½œæ–‡ (1)ï½(2)",
      open: false,
      questions: [
        {
          num: "(1)",
          text: "å›°ã£ãŸã“ã¨ã«ç§ã¯ååˆ†ãªãŠé‡‘ã‚’æŒã£ã¦ã„ã¾ã›ã‚“ï¼ã€æ„›çŸ¥å·¥æ¥­å¤§ã€‘<br>The trouble ___.",
          vocab: [["trouble", "å›°ã£ãŸã“ã¨"],["enough money", "ååˆ†ãªãŠé‡‘"],["The trouble is (that)", "å›°ã£ãŸã“ã¨ã«ï½ã "]],
          hint: ["ã€Œå›°ã£ãŸã“ã¨ã«ï½ã ã€ã¨ã„ã†è¡¨ç¾","åè©ç¯€ã‚’å°ãthatã‚’ä½¿ã†","ã€ŒThe trouble is (that) ~ã€"],
          answer: "is (that) I don't have enough money",
          explanation: "ã€Œå›°ã£ãŸã“ã¨ã«ï½ã ã€ã¯ã€ˆThe trouble is (that) ï½ã€‰ã§è¡¨ç¾ã§ãã¾ã™ã€‚",
          grammar: "The trouble is (that) S + V = å›°ã£ãŸã“ã¨ã«SãŒï½ã "
        },
        {
          num: "(2)",
          text: "ç§ã¯ã“ã®éŸ³æ¥½ã‚’èããŸã³ã«ï¼Œç™’ã•ã‚Œã‚‹æ°—ãŒã™ã‚‹ï¼",
          vocab: [["every/each time", "ï½ã™ã‚‹ãŸã³ã«"],["hear this music", "ã“ã®éŸ³æ¥½ã‚’èã"],["feel comforted", "ç™’ã•ã‚Œã‚‹æ°—ãŒã™ã‚‹"]],
          hint: ["ã€Œï½ã™ã‚‹ãŸã³ã«ã€ã¨ã„ã†è¡¨ç¾","ã€Œevery/each timeã€ã¾ãŸã¯ã€Œwheneverã€","è¤‡æ•°ã®è§£ç­”ãŒå¯èƒ½"],
          answer: "Every[Each] time I hear this music, I feel comforted. / Whenever I hear this music, I feel comforted.",
          explanation: "ã€ˆevery [each] time ï½ã€‰ã¯ã€Œï½ã™ã‚‹ãŸã³ã«ã€ã¨ã„ã†æ„å‘³ã‚’è¡¨ã—ã¾ã™ã€‚",
          grammar: "every/each time S + V = SãŒï½ã™ã‚‹ãŸã³ã«"
        }
      ]
    }
  ]
};

// Render functions
function renderQuestion(q) {
  // Question section
  let questionHtml = `<div class="qcard-question">
    <span class="qnum">${q.num}</span>
    <div class="qtext">${q.text}</div>`;
  if (q.choices) questionHtml += `<div class="choices">${q.choices}</div>`;
  if (q.scramble) questionHtml += `<div class="scramble">${q.scramble}</div>`;
  questionHtml += `</div>`;

  // Single view buttons (all in one row)
  let btnHtml = `<div class="qcard-buttons">
    <button class="toggle-btn vocab" onclick="toggle(this,'vocab')">Words</button>`;
  if (q.hint) btnHtml += `<button class="toggle-btn hint" onclick="toggle(this,'hint')">Hint</button>`;
  btnHtml += `<button class="toggle-btn answer" onclick="toggle(this,'answer')">Answer</button></div>`;

  // Left section (split view)
  let leftHtml = `<div class="qcard-left">
    <div class="toggle-btn-row">
      <button class="toggle-btn vocab" onclick="toggle(this,'vocab')">Words</button>`;
  if (q.hint) leftHtml += `<button class="toggle-btn hint" onclick="toggle(this,'hint')">Hint</button>`;
  leftHtml += `</div>`;
  if (q.vocab) {
    leftHtml += `<div class="collapsible" data-type="vocab"><div class="box vocab-box">`;
    q.vocab.forEach(v => leftHtml += `<div class="vocab-item"><span class="vocab-word">${v[0]}</span>${v[1]}</div>`);
    leftHtml += `</div></div>`;
  }
  if (q.hint) {
    leftHtml += `<div class="collapsible" data-type="hint"><div class="box hint-box"><span class="box-label">Solution</span>`;
    q.hint.forEach(h => leftHtml += `<div>â†’ ${h}</div>`);
    leftHtml += `</div></div>`;
  }
  leftHtml += `</div>`;

  // Right section (split view)
  let rightHtml = `<div class="qcard-right">
    <div class="toggle-btn-row">
      <button class="toggle-btn answer" onclick="toggle(this,'answer')">Answer</button>
    </div>
    <div class="collapsible" data-type="answer"><div class="box ans-box">
      <span class="box-label">æ­£è§£: ${q.answer}</span>`;
  if (q.translation) rightHtml += `<div class="jp-text">${q.translation}</div>`;
  if (q.explanation) rightHtml += `<div class="jp-text">${q.explanation}</div>`;
  if (q.choiceExplanations) {
    rightHtml += `<div class="choice-explanations">`;
    for (const [choice, exp] of Object.entries(q.choiceExplanations)) {
      const isCorrect = q.answer.includes(choice);
      rightHtml += `<div class="choice-exp ${isCorrect ? 'correct' : 'wrong'}">${exp}</div>`;
    }
    rightHtml += `</div>`;
  }
  if (q.grammar) rightHtml += `<div class="grammar-ref">${q.grammar}</div>`;
  rightHtml += `</div></div></div>`;

  return `<div class="qcard">${questionHtml}${btnHtml}${leftHtml}${rightHtml}</div>`;
}

function renderSection(section, index) {
  let html = `<div class="section" data-section="${index}">
    <div class="section-header ${section.open ? 'open' : ''}" onclick="toggleSection(this)">
      <span>${section.title}</span>
      <span class="section-arrow">â–¼</span>
    </div>
    <div class="section-body ${section.open ? 'open' : ''}">
      <div class="questions-list">`;
  section.questions.forEach(q => html += renderQuestion(q));
  html += `</div></div></div>`;
  return html;
}

function init() {
  let html = '';
  grammarData.sections.forEach((s, i) => html += renderSection(s, i));
  document.getElementById('content').innerHTML = html;
}

// Event handlers
function toggle(btn, type) {
  const card = btn.closest('.qcard');
  const block = card.querySelector(`.collapsible[data-type="${type}"]`);
  if (block) {
    block.classList.toggle('open');
    updateProgress();
  }
}

function toggleSection(header) {
  header.classList.toggle('open');
  header.nextElementSibling.classList.toggle('open');
}

function openAll() {
  document.querySelectorAll('.section-header').forEach(h => {
    h.classList.add('open');
    h.nextElementSibling.classList.add('open');
  });
}

function closeAll() {
  document.querySelectorAll('.section-header').forEach(h => {
    h.classList.remove('open');
    h.nextElementSibling.classList.remove('open');
    h.nextElementSibling.querySelectorAll('.collapsible').forEach(c => c.classList.remove('open'));
  });
  updateProgress();
}

function setView(view) {
  document.body.setAttribute('data-view', view);
  try { localStorage.setItem('viewMode', view); } catch(e) {}
  document.querySelectorAll('.view-btn').forEach(btn => {
    btn.classList.toggle('active', btn.getAttribute('data-view') === view);
  });
}

function updateProgress() {
  const total = document.querySelectorAll('.collapsible[data-type="answer"]').length;
  const revealed = document.querySelectorAll('.collapsible[data-type="answer"].open').length;
  const pct = total > 0 ? Math.round((revealed / total) * 100) : 0;
  document.getElementById('progressBar').style.width = pct + '%';
  document.getElementById('progressText').textContent = `${revealed} / ${total} answers revealed`;
}

let searchTimeout = null;
function debouncedSearch() {
  clearTimeout(searchTimeout);
  searchTimeout = setTimeout(handleSearch, 150);
}

function handleSearch() {
  const query = document.getElementById('searchInput').value.toLowerCase().trim();
  if (!query) {
    document.querySelectorAll('.qcard, .section').forEach(el => el.classList.remove('no-match'));
    return;
  }
  grammarData.sections.forEach((section, si) => {
    const sectionEl = document.querySelector(`[data-section="${si}"]`);
    let hasMatch = false;
    section.questions.forEach((q, qi) => {
      const text = [q.text || '', q.choices || '', q.scramble || '', q.answer || '', q.translation || '', q.grammar || '', (q.vocab || []).flat().join(' '), (q.hint || []).join(' ')].join(' ').toLowerCase();
      const cards = sectionEl.querySelectorAll('.qcard');
      const card = cards[qi];
      if (text.includes(query)) {
        card.classList.remove('no-match');
        hasMatch = true;
      } else {
        card.classList.add('no-match');
      }
    });
    sectionEl.classList.toggle('no-match', !hasMatch);
    if (hasMatch) {
      sectionEl.querySelector('.section-header').classList.add('open');
      sectionEl.querySelector('.section-body').classList.add('open');
    }
  });
}

function toggleTheme() {
  const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
  document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark');
  try { localStorage.setItem('theme', isDark ? 'light' : 'dark'); } catch(e) {}
  document.querySelector('.theme-icon').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
}

function scrollToStudy() {
  document.getElementById('study').scrollIntoView({ behavior: 'smooth' });
}

function scrollToOverview() {
  document.getElementById('overview').scrollIntoView({ behavior: 'smooth' });
}

function scrollToSection(index) {
  document.getElementById('study').scrollIntoView({ behavior: 'smooth' });
  setTimeout(() => {
    const section = document.querySelector(`[data-section="${index}"]`);
    section.querySelector('.section-header').classList.add('open');
    section.querySelector('.section-body').classList.add('open');
    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }, 500);
}

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Card animations now handled by CSS - this function is a no-op for compatibility
function initCardAnimations() {
  // CSS handles the staggered fade-in animation
}

// 3D Tilt effect for question cards - DISABLED for performance
function init3DTilt() {
  // Disabled - was causing Chrome crashes during scroll (22 RAF loops)
}

// Smooth 3D tilt for conj-cards (RAF-throttled for 60fps, no continuous loops)
function initTypeCardTilt() {
  const cards = document.querySelectorAll('.conj-card');
  if (!cards.length) return;

  cards.forEach(card => {
    let rafId = null;
    let targetX = 0, targetY = 0;
    let currentX = 0, currentY = 0;

    card.addEventListener('mouseenter', () => {
      card.style.transition = 'box-shadow 0.3s ease';
    });

    card.addEventListener('mousemove', (e) => {
      const rect = card.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      const centerX = rect.width / 2;
      const centerY = rect.height / 2;
      targetX = (y - centerY) / 80;
      targetY = (centerX - x) / 80;

      if (!rafId) {
        rafId = requestAnimationFrame(() => {
          currentX += (targetX - currentX) * 0.15;
          currentY += (targetY - currentY) * 0.15;
          card.style.transform = `perspective(1000px) rotateX(${currentX}deg) rotateY(${currentY}deg) translateY(-3px)`;
          card.style.boxShadow = 'var(--shadow-lg)';
          rafId = null;
        });
      }
    });

    card.addEventListener('mouseleave', () => {
      if (rafId) cancelAnimationFrame(rafId);
      rafId = null;
      card.style.transition = 'transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.3s ease';
      card.style.transform = '';
      card.style.boxShadow = '';
      currentX = 0;
      currentY = 0;
      targetX = 0;
      targetY = 0;
    });
  });
}

// Nav highlight using Intersection Observer (replaces scroll listener for better performance)
function initNavHighlight() {
  const sections = document.querySelectorAll('#intro, #overview, #study');
  const navLinks = document.querySelectorAll('.top-nav-link');

  if (!sections.length || !navLinks.length) return;

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const sectionId = entry.target.id;
        navLinks.forEach(link => {
          link.classList.toggle('active', link.dataset.section === sectionId);
        });
      }
    });
  }, {
    rootMargin: '-20% 0px -70% 0px',
    threshold: 0
  });

  sections.forEach(section => observer.observe(section));
}

// Init
window.addEventListener('DOMContentLoaded', () => {
  init();
  initCardAnimations();
  init3DTilt();
  initTypeCardTilt();
  initNavHighlight();
  try {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      document.documentElement.setAttribute('data-theme', 'dark');
      document.querySelector('.theme-icon').textContent = 'ğŸŒ™';
    }
    const savedView = localStorage.getItem('viewMode') || 'single';
    setView(savedView);
  } catch(e) {}
  updateProgress();
});
</script>
</body>
</html>
